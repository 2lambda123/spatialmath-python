

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Function reference &mdash; Spatial Maths package 0.8.3
 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Indices" href="indices.html" />
    <link rel="prev" title="2D-space" href="classes-2d.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Spatial Maths package
          

          
            
            <img src="_static/CartesianSnakes_LogoW.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="spatialmath.html">Class reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Function reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-spatialmath.base.transforms2d">Transforms in 2D</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spatialmath.base.transforms3d">Transforms in 3D</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spatialmath.base.transformsNd">Transforms in ND</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-spatialmath.base.quaternions">Quaternions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#utility">Utility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-spatialmath.base.vectors">Vectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-spatialmath.base.animate">Graphic animation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-spatialmath.base.argcheck">Argument checking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Indices</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Spatial Maths package</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Function reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/functions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="indices.html" class="btn btn-neutral float-right" title="Indices" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="classes-2d.html" class="btn btn-neutral float-left" title="2D-space" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="function-reference">
<h1>Function reference<a class="headerlink" href="#function-reference" title="Permalink to this headline">¶</a></h1>
<p>blah blah blah</p>
<div class="section" id="module-spatialmath.base.transforms2d">
<span id="transforms-in-2d"></span><h2>Transforms in 2D<a class="headerlink" href="#module-spatialmath.base.transforms2d" title="Permalink to this headline">¶</a></h2>
<p>This modules contains functions to create and transform rotation matrices
and homogeneous tranformation matrices.</p>
<p>Vector arguments are what numpy refers to as <code class="docutils literal notranslate"><span class="pre">array_like</span></code> and can be a list,
tuple, numpy array, numpy row vector or numpy column vector.</p>
<dl class="py function">
<dt id="spatialmath.base.transforms2d.rot2">
<code class="sig-name descname">rot2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#rot2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.rot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(2) rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2x2 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ROT2(THETA)</span></code> is an SO(2) rotation matrix (2x2) representing a rotation of THETA radians.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ROT2(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trot2">
<code class="sig-name descname">trot2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trot2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(2) pure rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about X-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>t</strong> (<em>array_like    :return: 3x3 homogeneous transformation matrix</em>) – translation 2-vector, defaults to [0,0]</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TROT2(THETA)</span></code> is a homogeneous transformation (3x3) representing a rotation of
THETA radians.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TROT2(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees.</p></li>
</ul>
<p>Notes:
- Translational component is zero.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.transl2">
<code class="sig-name descname">transl2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#transl2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.transl2" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(2) pure translation, or extract translation from SE(2) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – translation along X-axis</p></li>
<li><p><strong>y</strong> (<em>float</em>) – translation along Y-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous transform matrix or the translation elements of a homogeneous transform</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p>Create a translational SE(2) matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">transl2([X,</span> <span class="pre">Y])</span></code> is an SE(2) homogeneous transform (3x3) representing a
pure translation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">transl2(</span> <span class="pre">V</span> <span class="pre">)</span></code> as above but the translation is given by a 2-element
list, dict, or a numpy array, row or column vector.</p></li>
</ul>
<p>Extract the translational part of an SE(2) matrix:</p>
<p>P = TRANSL2(T) is the translational part of a homogeneous transform as a
2-element numpy array.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.ishom2">
<code class="sig-name descname">ishom2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#ishom2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.ishom2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SE(2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation submatrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is an SE(2) homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ISHOM2(T)</span></code> is True if the argument <code class="docutils literal notranslate"><span class="pre">T</span></code> is of dimension 3x3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ISHOM2(T,</span> <span class="pre">check=True)</span></code> as above, but also checks orthogonality of the
rotation sub-matrix and validitity of the bottom row.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isR, isrot2, ishom, isvec</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.isrot2">
<code class="sig-name descname">isrot2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#isrot2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.isrot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SO(2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation submatrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is an SO(2) rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ISROT(R)</span></code> is True if the argument <code class="docutils literal notranslate"><span class="pre">R</span></code> is of dimension 2x2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ISROT(R,</span> <span class="pre">check=True)</span></code> as above, but also checks orthogonality of the rotation matrix.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isR, ishom2, isrot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trlog2">
<code class="sig-name descname">trlog2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">twist</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trlog2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trlog2" title="Permalink to this definition">¶</a></dt>
<dd><p>Logarithm of SO(2) or SE(2) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>2</em><em>,</em><em>2</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – SO(2) or SE(2) matrix</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that matrix is valid</p></li>
<li><p><strong>twist</strong> (<em>bool</em>) – return a twist vector instead of matrix [default]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>logarithm</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix logarithm for arguments that
are SO(2) or SE(2).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trlog2(R)</span></code> is the logarithm of the passed rotation matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> which
will be 2x2 skew-symmetric matrix.  The equivalent vector from <code class="docutils literal notranslate"><span class="pre">vex()</span></code>
is parallel to rotation axis and its norm is the amount of rotation about
that axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trlog(T)</span></code> is the logarithm of the passed homogeneous transformation
matrix <code class="docutils literal notranslate"><span class="pre">T</span></code> which will be 3x3 augumented skew-symmetric matrix. The
equivalent vector from <code class="docutils literal notranslate"><span class="pre">vexa()</span></code> is the twist vector (6x1) comprising [v
w].</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">trexp()</span></code>, <a class="reference internal" href="#spatialmath.base.transformsNd.vex" title="spatialmath.base.transformsNd.vex"><code class="xref py py-func docutils literal notranslate"><span class="pre">vex()</span></code></a>,
<a class="reference internal" href="#spatialmath.base.transformsNd.vexa" title="spatialmath.base.transformsNd.vexa"><code class="xref py py-func docutils literal notranslate"><span class="pre">vexa()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trexp2">
<code class="sig-name descname">trexp2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">theta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trexp2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trexp2" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponential of so(2) or se(2) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – so(2), se(2) matrix or equivalent velctor</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – motion</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2x2 or 3x3 matrix exponential in SO(2) or SE(2)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix exponential for arguments
that are so(2) or se(2).</p>
<p>For so(2) the results is an SO(2) rotation matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(S)</span></code> is the matrix exponential of the so(3) element <code class="docutils literal notranslate"><span class="pre">S</span></code> which is a 2x2
skew-symmetric matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(S,</span> <span class="pre">THETA)</span></code> as above but for an so(3) motion of S*THETA, where <code class="docutils literal notranslate"><span class="pre">S</span></code> is
unit-norm skew-symmetric matrix representing a rotation axis and a rotation magnitude
given by <code class="docutils literal notranslate"><span class="pre">THETA</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(W)</span></code> is the matrix exponential of the so(2) element <code class="docutils literal notranslate"><span class="pre">W</span></code> expressed as
a 1-vector (array_like).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(W,</span> <span class="pre">THETA)</span></code> as above but for an so(3) motion of W*THETA where <code class="docutils literal notranslate"><span class="pre">W</span></code> is a
unit-norm vector representing a rotation axis and a rotation magnitude
given by <code class="docutils literal notranslate"><span class="pre">THETA</span></code>. <code class="docutils literal notranslate"><span class="pre">W</span></code> is expressed as a 1-vector (array_like).</p></li>
</ul>
<p>For se(2) the results is an SE(2) homogeneous transformation matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(SIGMA)</span></code> is the matrix exponential of the se(2) element <code class="docutils literal notranslate"><span class="pre">SIGMA</span></code> which is
a 3x3 augmented skew-symmetric matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(SIGMA,</span> <span class="pre">THETA)</span></code> as above but for an se(3) motion of SIGMA*THETA, where <code class="docutils literal notranslate"><span class="pre">SIGMA</span></code>
must represent a unit-twist, ie. the rotational component is a unit-norm skew-symmetric
matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(TW)</span></code> is the matrix exponential of the se(3) element <code class="docutils literal notranslate"><span class="pre">TW</span></code> represented as
a 3-vector which can be considered a screw motion.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp2(TW,</span> <span class="pre">THETA)</span></code> as above but for an se(2) motion of TW*THETA, where <code class="docutils literal notranslate"><span class="pre">TW</span></code>
must represent a unit-twist, ie. the rotational component is a unit-norm skew-symmetric
matrix.</p></li>
</ul>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p>trlog, trexp2</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trinterp2">
<code class="sig-name descname">trinterp2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">s</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trinterp2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trinterp2" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate SE(2) matrices</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – initial SO(2) or SE(2) matrix value when s=0, if None then identity is used</p></li>
<li><p><strong>end</strong> – final SO(2) or SE(2) matrix, value when s=1</p></li>
<li><p><strong>s</strong> (<em>float</em>) – interpolation coefficient, range 0 to 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(2) or SE(2) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(2,2), (3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp2(None,</span> <span class="pre">T,</span> <span class="pre">S)</span></code> is a homogeneous transform (3x3) interpolated
between identity when S=0 and T (3x3) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp2(T0,</span> <span class="pre">T1,</span> <span class="pre">S)</span></code> as above but interpolated
between T0 (3x3) when S=0 and T1 (3x3) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp2(None,</span> <span class="pre">R,</span> <span class="pre">S)</span></code> is a rotation matrix (2x2) interpolated
between identity when S=0 and R (2x2) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp2(R0,</span> <span class="pre">R1,</span> <span class="pre">S)</span></code> as above but interpolated
between R0 (2x2) when S=0 and R1 (2x2) when S=1.</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>Rotation angle is linearly interpolated.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trinterp" title="spatialmath.base.transforms3d.trinterp"><code class="xref py py-func docutils literal notranslate"><span class="pre">trinterp()</span></code></a></p>
</dd>
</dl>
<p>%## 2d homogeneous trajectory</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trprint2">
<code class="sig-name descname">trprint2</code><span class="sig-paren">(</span><em class="sig-param">T</em>, <em class="sig-param">label=None</em>, <em class="sig-param">file=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em>, <em class="sig-param">fmt='{:8.2g}'</em>, <em class="sig-param">unit='deg'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trprint2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trprint2" title="Permalink to this definition">¶</a></dt>
<dd><p>Compact display of SO(2) or SE(2) matrices</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>2</em><em>,</em><em>2</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – matrix to format</p></li>
<li><p><strong>label</strong> (<em>str</em>) – text label to put at start of line</p></li>
<li><p><strong>file</strong> (<em>file object</em>) – file to write formatted string to</p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – conversion format for each number</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p>The matrix is formatted and written to <code class="docutils literal notranslate"><span class="pre">file</span></code> and the
string is returned.  To suppress writing to a file, set <code class="docutils literal notranslate"><span class="pre">file=None</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">trprint2(R)</span></code> displays the SO(2) rotation matrix in a compact
single-line format and returns the string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">LABEL</span><span class="p">:]</span> <span class="n">THETA</span> <span class="n">UNIT</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">trprint2(T)</span></code> displays the SE(2) homogoneous transform in a compact
single-line format and returns the string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">LABEL</span><span class="p">:]</span> <span class="p">[</span><span class="n">t</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">;]</span> <span class="n">THETA</span> <span class="n">UNIT</span>
</pre></div>
</div>
</li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">transl2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">@</span> <span class="n">trot2</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trprint2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
<span class="go">&#39;T: t =        1,        2;       17 deg&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>trprint</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.trplot2">
<code class="sig-name descname">trplot2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">block</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'blue'</span></em>, <em class="sig-param"><span class="n">frame</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">textcolor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">'X', 'Y'</span></em>, <em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">arrow</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">rviz</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">wtl</span><span class="o">=</span><span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">d1</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">d2</span><span class="o">=</span><span class="default_value">1.15</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#trplot2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.trplot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a 2D coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – an SO(3) or SE(3) pose to be displayed as coordinate frame</p></li>
<li><p><strong>axes</strong> (<em>Axes3D reference</em>) – the axes to plot into, defaults to current axes</p></li>
<li><p><strong>block</strong> (<em>bool</em>) – run the GUI main loop until all windows are closed, default True</p></li>
<li><p><strong>dims</strong> (<em>array_like</em>) – dimension of plot volume as [xmin, xmax, ymin, ymax]</p></li>
<li><p><strong>color</strong> (<em>str</em>) – color of the lines defining the frame</p></li>
<li><p><strong>textcolor</strong> (<em>str</em>) – color of text labels for the frame, default color of lines above</p></li>
<li><p><strong>frame</strong> (<em>str</em>) – label the frame, name is shown below the frame and as subscripts on the frame axis labels</p></li>
<li><p><strong>labels</strong> (<em>3-tuple of strings</em>) – labels for the axes, defaults to X, Y and Z</p></li>
<li><p><strong>length</strong> (<em>float</em>) – length of coordinate frame axes, default 1</p></li>
<li><p><strong>arrow</strong> (<em>bool</em>) – show arrow heads, default True</p></li>
<li><p><strong>wtl</strong> (<em>float</em>) – width-to-length ratio for arrows, default 0.2</p></li>
<li><p><strong>rviz</strong> (<em>bool</em>) – show Rviz style arrows, default False</p></li>
<li><p><strong>projection</strong> (<em>str</em>) – 3D projection: ortho [default] or persp</p></li>
<li><p><strong>width</strong> (<em>float</em>) – width of lines, default 1</p></li>
<li><p><strong>d1</strong> – distance of frame axis label text from origin, default 1.15</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>axes containing the frame</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>AxesSubplot</p>
</dd>
</dl>
<p>Adds a 2D coordinate frame represented by the SO(2) or SE(2) matrix to the current axes.</p>
<ul class="simple">
<li><p>If no current figure, one is created</p></li>
<li><p>If current figure, but no axes, a 3d Axes is created</p></li>
</ul>
<p>Examples:</p>
<blockquote>
<div><p>trplot2(T, frame=’A’)
trplot2(T, frame=’A’, color=’green’)
trplot2(T1, ‘labels’, ‘AB’);</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms2d.tranimate2">
<code class="sig-name descname">tranimate2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms2d.html#tranimate2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms2d.tranimate2" title="Permalink to this definition">¶</a></dt>
<dd><p>Animate a 2D coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – an SO(2) or SE(2) pose to be displayed as coordinate frame</p></li>
<li><p><strong>nframes</strong> (<em>int</em>) – number of steps in the animation [defaault 100]</p></li>
<li><p><strong>repeat</strong> (<em>bool</em>) – animate in endless loop [default False]</p></li>
<li><p><strong>interval</strong> (<em>int</em>) – number of milliseconds between frames [default 50]</p></li>
<li><p><strong>movie</strong> (<em>str</em>) – name of file to write MP4 movie into</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
</dl>
<p>Animates a 2D coordinate frame moving from the world frame to a frame represented by the SO(2) or SE(2) matrix to the current axes.</p>
<ul class="simple">
<li><p>If no current figure, one is created</p></li>
<li><p>If current figure, but no axes, a 3d Axes is created</p></li>
</ul>
<p>Examples:</p>
<blockquote>
<div><p>tranimate2(transl(1,2)&#64;trot2(1), frame=’A’, arrow=False, dims=[0, 5])
tranimate2(transl(1,2)&#64;trot2(1), frame=’A’, arrow=False, dims=[0, 5], movie=’spin.mp4’)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-spatialmath.base.transforms3d">
<span id="transforms-in-3d"></span><h2>Transforms in 3D<a class="headerlink" href="#module-spatialmath.base.transforms3d" title="Permalink to this headline">¶</a></h2>
<p>This modules contains functions to create and transform 3D rotation matrices
and homogeneous tranformation matrices.</p>
<p>Vector arguments are what numpy refers to as <code class="docutils literal notranslate"><span class="pre">array_like</span></code> and can be a list,
tuple, numpy array, numpy row vector or numpy column vector.</p>
<p>TODO:</p>
<blockquote>
<div><ul class="simple">
<li><p>trinterp</p></li>
<li><p>trjac, trjac2</p></li>
<li><p>tranimate, tranimate2</p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt id="spatialmath.base.transforms3d.rotx">
<code class="sig-name descname">rotx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#rotx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.rotx" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(3) rotation about X-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about X-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rotx(THETA)</span></code> is an SO(3) rotation matrix (3x3) representing a rotation
of THETA radians about the x-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rotx(THETA,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but THETA is in degrees</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trotx" title="spatialmath.base.transforms3d.trotx"><code class="xref py py-func docutils literal notranslate"><span class="pre">trotx()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.roty">
<code class="sig-name descname">roty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#roty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.roty" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(3) rotation about Y-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about Y-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">roty(THETA)</span></code> is an SO(3) rotation matrix (3x3) representing a rotation
of THETA radians about the y-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">roty(THETA,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but THETA is in degrees</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.troty" title="spatialmath.base.transforms3d.troty"><code class="xref py py-func docutils literal notranslate"><span class="pre">troty()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.rotz">
<code class="sig-name descname">rotz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#rotz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.rotz" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(3) rotation about Z-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about Z-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rotz(THETA)</span></code> is an SO(3) rotation matrix (3x3) representing a rotation
of THETA radians about the z-axis</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rotz(THETA,</span> <span class="pre">&quot;deg&quot;)</span></code> as above but THETA is in degrees</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">yrotz()</span></code></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trotx">
<code class="sig-name descname">trotx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trotx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trotx" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation about X-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about X-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>t</strong> (<em>array_like    :return: 4x4 homogeneous transformation matrix</em>) – translation 3-vector, defaults to [0,0,0]</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trotx(THETA)</span></code> is a homogeneous transformation (4x4) representing a rotation
of THETA radians about the x-axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trotx(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trotx(THETA,</span> <span class="pre">'rad',</span> <span class="pre">t=[x,y,z])</span></code> as above with translation of [x,y,z]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rotx" title="spatialmath.base.transforms3d.rotx"><code class="xref py py-func docutils literal notranslate"><span class="pre">rotx()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.troty">
<code class="sig-name descname">troty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#troty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.troty" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation about Y-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about Y-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>t</strong> (<em>array_like</em>) – translation 3-vector, defaults to [0,0,0]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix as a numpy array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">troty(THETA)</span></code> is a homogeneous transformation (4x4) representing a rotation
of THETA radians about the y-axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">troty(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">troty(THETA,</span> <span class="pre">'rad',</span> <span class="pre">t=[x,y,z])</span></code> as above with translation of [x,y,z]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.roty" title="spatialmath.base.transforms3d.roty"><code class="xref py py-func docutils literal notranslate"><span class="pre">roty()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trotz">
<code class="sig-name descname">trotz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trotz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trotz" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation about Z-axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation angle about Z-axis</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>t</strong> (<em>array_like</em>) – translation 3-vector, defaults to [0,0,0]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trotz(THETA)</span></code> is a homogeneous transformation (4x4) representing a rotation
of THETA radians about the z-axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trotz(THETA,</span> <span class="pre">'deg')</span></code> as above but THETA is in degrees</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trotz(THETA,</span> <span class="pre">'rad',</span> <span class="pre">t=[x,y,z])</span></code> as above with translation of [x,y,z]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rotz" title="spatialmath.base.transforms3d.rotz"><code class="xref py py-func docutils literal notranslate"><span class="pre">rotz()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.transl">
<code class="sig-name descname">transl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#transl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.transl" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure translation, or extract translation from SE(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – translation along X-axis</p></li>
<li><p><strong>y</strong> (<em>float</em>) – translation along Y-axis</p></li>
<li><p><strong>z</strong> (<em>float</em>) – translation along Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p>Create a translational SE(3) matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">transl(</span> <span class="pre">X,</span> <span class="pre">Y,</span> <span class="pre">Z</span> <span class="pre">)</span></code> is an SE(3) homogeneous transform (4x4) representing a
pure translation of X, Y and Z.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">transl(</span> <span class="pre">V</span> <span class="pre">)</span></code> as above but the translation is given by a 3-element
list, dict, or a numpy array, row or column vector.</p></li>
</ul>
<p>Extract the translational part of an SE(3) matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">P</span> <span class="pre">=</span> <span class="pre">TRANSL(T)</span></code> is the translational part of a homogeneous transform T as a
3-element numpy array.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms2d.transl2" title="spatialmath.base.transforms2d.transl2"><code class="xref py py-func docutils literal notranslate"><span class="pre">transl2()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.ishom">
<code class="sig-name descname">ishom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#ishom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.ishom" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation submatrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is an SE(3) homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ISHOM(T)</span></code> is True if the argument <code class="docutils literal notranslate"><span class="pre">T</span></code> is of dimension 4x4</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ISHOM(T,</span> <span class="pre">check=True)</span></code> as above, but also checks orthogonality of the rotation sub-matrix and
validitity of the bottom row.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.isR" title="spatialmath.base.transformsNd.isR"><code class="xref py py-func docutils literal notranslate"><span class="pre">isR()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.isrot" title="spatialmath.base.transforms3d.isrot"><code class="xref py py-func docutils literal notranslate"><span class="pre">isrot()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.ishom2" title="spatialmath.base.transforms2d.ishom2"><code class="xref py py-func docutils literal notranslate"><span class="pre">ishom2()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.isrot">
<code class="sig-name descname">isrot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#isrot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.isrot" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SO(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation submatrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is an SO(3) rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ISROT(R)</span></code> is True if the argument <code class="docutils literal notranslate"><span class="pre">R</span></code> is of dimension 3x3</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ISROT(R,</span> <span class="pre">check=True)</span></code> as above, but also checks orthogonality of the rotation matrix.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.isR" title="spatialmath.base.transformsNd.isR"><code class="xref py py-func docutils literal notranslate"><span class="pre">isR()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms2d.isrot2" title="spatialmath.base.transforms2d.isrot2"><code class="xref py py-func docutils literal notranslate"><span class="pre">isrot2()</span></code></a>,  <a class="reference internal" href="#spatialmath.base.transforms3d.ishom" title="spatialmath.base.transforms3d.ishom"><code class="xref py py-func docutils literal notranslate"><span class="pre">ishom()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.rpy2r">
<code class="sig-name descname">rpy2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">roll</span></em>, <em class="sig-param"><span class="n">pitch</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">yaw</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#rpy2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.rpy2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SO(3) rotation matrix from roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>roll</strong> (<em>float</em>) – roll angle</p></li>
<li><p><strong>pitch</strong> (<em>float</em>) – pitch angle</p></li>
<li><p><strong>yaw</strong> (<em>float</em>) – yaw angle</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>unit</strong> – rotation order: ‘zyx’ [default], ‘xyz’, or ‘yxz’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">rpy2r(ROLL,</span> <span class="pre">PITCH,</span> <span class="pre">YAW)</span></code> is an SO(3) orthonormal rotation matrix
(3x3) equivalent to the specified roll, pitch, yaw angles angles.
These correspond to successive rotations about the axes specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Covention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">rpy2r(RPY)</span></code> as above but the roll, pitch, yaw angles are taken
from <code class="docutils literal notranslate"><span class="pre">RPY</span></code> which is a 3-vector (array_like) with values
(ROLL, PITCH, YAW).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.eul2r" title="spatialmath.base.transforms3d.eul2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.rpy2tr" title="spatialmath.base.transforms3d.rpy2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.rpy2tr">
<code class="sig-name descname">rpy2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">roll</span></em>, <em class="sig-param"><span class="n">pitch</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">yaw</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#rpy2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.rpy2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SE(3) rotation matrix from roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>roll</strong> (<em>float</em>) – roll angle</p></li>
<li><p><strong>pitch</strong> (<em>float</em>) – pitch angle</p></li>
<li><p><strong>yaw</strong> (<em>float</em>) – yaw angle</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>unit</strong> – rotation order: ‘zyx’ [default], ‘xyz’, or ‘yxz’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">rpy2tr(ROLL,</span> <span class="pre">PITCH,</span> <span class="pre">YAW)</span></code> is an SO(3) orthonormal rotation matrix
(3x3) equivalent to the specified roll, pitch, yaw angles angles.
These correspond to successive rotations about the axes specified by <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘zyx’ [default], rotate by yaw about the z-axis, then by pitch about the new y-axis,
then by roll about the new x-axis.  Convention for a mobile robot with x-axis forward
and y-axis sideways.</p></li>
<li><p>‘xyz’, rotate by yaw about the x-axis, then by pitch about the new y-axis,
then by roll about the new z-axis. Convention for a robot gripper with z-axis forward
and y-axis between the gripper fingers.</p></li>
<li><p>‘yxz’, rotate by yaw about the y-axis, then by pitch about the new x-axis,
then by roll about the new z-axis. Convention for a camera with z-axis parallel
to the optic axis and x-axis parallel to the pixel rows.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">rpy2tr(RPY)</span></code> as above but the roll, pitch, yaw angles are taken
from <code class="docutils literal notranslate"><span class="pre">RPY</span></code> which is a 3-vector (array_like) with values
(ROLL, PITCH, YAW).</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>The translational part is zero.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.eul2tr" title="spatialmath.base.transforms3d.eul2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.rpy2r" title="spatialmath.base.transforms3d.rpy2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.eul2r">
<code class="sig-name descname">eul2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">phi</span></em>, <em class="sig-param"><span class="n">theta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">psi</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#eul2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.eul2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SO(3) rotation matrix from Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phi</strong> (<em>float</em>) – Z-axis rotation</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – Y-axis rotation</p></li>
<li><p><strong>psi</strong> (<em>float</em>) – Z-axis rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">eul2r(PHI,</span> <span class="pre">THETA,</span> <span class="pre">PSI)</span></code> is an SO(3) orthonornal rotation
matrix equivalent to the specified Euler angles.  These correspond
to rotations about the Z, Y, Z axes respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">eul2r(EUL)</span></code> as above but the Euler angles are taken from
<code class="docutils literal notranslate"><span class="pre">EUL</span></code> which is a 3-vector (array_like) with values
(PHI THETA PSI).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rpy2r" title="spatialmath.base.transforms3d.rpy2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.eul2tr" title="spatialmath.base.transforms3d.eul2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.eul2tr">
<code class="sig-name descname">eul2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">phi</span></em>, <em class="sig-param"><span class="n">theta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">psi</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#eul2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.eul2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SE(3) pure rotation matrix from Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phi</strong> (<em>float</em>) – Z-axis rotation</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – Y-axis rotation</p></li>
<li><p><strong>psi</strong> (<em>float</em>) – Z-axis rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">eul2tr(PHI,</span> <span class="pre">THETA,</span> <span class="pre">PSI)</span></code> is an SE(3) homogeneous transformation
matrix equivalent to the specified Euler angles.  These correspond
to rotations about the Z, Y, Z axes respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">eul2tr(EUL)</span></code> as above but the Euler angles are taken from
<code class="docutils literal notranslate"><span class="pre">EUL</span></code> which is a 3-vector (array_like) with values
(PHI THETA PSI).</p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>The translational part is zero.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rpy2tr" title="spatialmath.base.transforms3d.rpy2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.eul2r" title="spatialmath.base.transforms3d.eul2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.angvec2r">
<code class="sig-name descname">angvec2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#angvec2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.angvec2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SO(3) rotation matrix from rotation angle and axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>v</strong> (<em>array_like</em>) – rotation axis, 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">angvec2r(THETA,</span> <span class="pre">V)</span></code> is an SO(3) orthonormal rotation matrix
equivalent to a rotation of <code class="docutils literal notranslate"><span class="pre">THETA</span></code> about the vector <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">==</span> <span class="pre">0</span></code> then return identity matrix.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">~=</span> <span class="pre">0</span></code> then <code class="docutils literal notranslate"><span class="pre">V</span></code> must have a finite length.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.angvec2tr" title="spatialmath.base.transforms3d.angvec2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>not supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.angvec2tr">
<code class="sig-name descname">angvec2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">theta</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#angvec2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.angvec2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an SE(3) pure rotation from rotation angle and axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – rotation</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – angular units: ‘rad’ [default], or ‘deg’</p></li>
<li><p><strong>v</strong> (<em>: array_like</em>) – rotation axis, 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpdy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">angvec2tr(THETA,</span> <span class="pre">V)</span></code> is an SE(3) homogeneous transformation matrix
equivalent to a rotation of <code class="docutils literal notranslate"><span class="pre">THETA</span></code> about the vector <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">==</span> <span class="pre">0</span></code> then return identity matrix.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">THETA</span> <span class="pre">~=</span> <span class="pre">0</span></code> then <code class="docutils literal notranslate"><span class="pre">V</span></code> must have a finite length.</p></li>
<li><p>The translational part is zero.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.angvec2r" title="spatialmath.base.transforms3d.angvec2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>not supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.oa2r">
<code class="sig-name descname">oa2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">a</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#oa2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.oa2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SO(3) rotation matrix from two vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>o</strong> (<em>array_like</em>) – 3-vector parallel to Y- axis</p></li>
<li><p><strong>a</strong> – 3-vector parallel to the Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">oa2tr(O,</span> <span class="pre">A)</span></code> is an SO(3) orthonormal rotation matrix for a frame defined in terms of
vectors parallel to its Y- and Z-axes with respect to a reference frame.  In robotics these axes are
respectively called the orientation and approach vectors defined such that
R = [N O A] and N = O x A.</p>
<p>Steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>N’ = O x A</p></li>
<li><p>O’ = A x N</p></li>
<li><p>normalize N’, O’, A</p></li>
<li><p>stack horizontally into rotation matrix</p></li>
</ol>
</div></blockquote>
<p>Notes:</p>
<ul class="simple">
<li><p>The A vector is the only guaranteed to have the same direction in the resulting
rotation matrix</p></li>
<li><p>O and A do not have to be unit-length, they are normalized</p></li>
<li><p>O and A do not have to be orthogonal, so long as they are not parallel</p></li>
<li><p>The vectors O and A are parallel to the Y- and Z-axes of the equivalent coordinate frame.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.oa2tr" title="spatialmath.base.transforms3d.oa2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">oa2tr()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>not supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.oa2tr">
<code class="sig-name descname">oa2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">a</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#oa2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.oa2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create SE(3) pure rotation from two vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>o</strong> (<em>array_like</em>) – 3-vector parallel to Y- axis</p></li>
<li><p><strong>a</strong> – 3-vector parallel to the Z-axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>4x4 homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">oa2tr(O,</span> <span class="pre">A)</span></code> is an SE(3) homogeneous transformation matrix for a frame defined in terms of
vectors parallel to its Y- and Z-axes with respect to a reference frame.  In robotics these axes are
respectively called the orientation and approach vectors defined such that
R = [N O A] and N = O x A.</p>
<p>Steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>N’ = O x A</p></li>
<li><p>O’ = A x N</p></li>
<li><p>normalize N’, O’, A</p></li>
<li><p>stack horizontally into rotation matrix</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.oa2r" title="spatialmath.base.transforms3d.oa2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">oa2r()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>not supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2angvec">
<code class="sig-name descname">tr2angvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2angvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2angvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) or SE(3) to angle and rotation vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – SO(3) or SE(3) matrix</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – ‘rad’ or ‘deg’</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that rotation matrix is valid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\((\theta, {\bf v})\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">tr2angvec(R)</span></code> is a rotation angle and a vector about which the rotation
acts that corresponds to the rotation part of <code class="docutils literal notranslate"><span class="pre">R</span></code>.</p>
<p>By default the angle is in radians but can be changed setting <cite>unit=’deg’</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If the input is SE(3) the translation component is ignored.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.angvec2r" title="spatialmath.base.transforms3d.angvec2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.angvec2tr" title="spatialmath.base.transforms3d.angvec2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">angvec2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2eul">
<code class="sig-name descname">tr2eul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">flip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2eul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2eul" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) or SE(3) to ZYX Euler angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – SO(3) or SE(3) matrix</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – ‘rad’ or ‘deg’</p></li>
<li><p><strong>flip</strong> (<em>bool</em>) – choose first Euler angle to be in quadrant 2 or 3</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that rotation matrix is valid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ZYZ Euler angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">tr2eul(R)</span></code> are the Euler angles corresponding to
the rotation part of <code class="docutils literal notranslate"><span class="pre">R</span></code>.</p>
<p>The 3 angles <span class="math notranslate nohighlight">\([\phi, \theta, \psi]\)</span> correspond to sequential rotations about the
Z, Y and Z axes respectively.</p>
<p>By default the angles are in radians but can be changed setting <cite>unit=’deg’</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>There is a singularity for the case where <span class="math notranslate nohighlight">\(\theta=0\)</span> in which 
case we arbitrarily set <span class="math notranslate nohighlight">\(\phi = 0\)</span> and <span class="math notranslate nohighlight">\(\phi\)</span> is set to
<span class="math notranslate nohighlight">\(\phi+\psi\)</span>.</p></li>
<li><p>If the input is SE(3) the translation component is ignored.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.eul2r" title="spatialmath.base.transforms3d.eul2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.eul2tr" title="spatialmath.base.transforms3d.eul2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">eul2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>not supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2rpy">
<code class="sig-name descname">tr2rpy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'rad'</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'zyx'</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2rpy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2rpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) or SE(3) to roll-pitch-yaw angles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – SO(3) or SE(3) matrix</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – ‘rad’ or ‘deg’</p></li>
<li><p><strong>order</strong> – ‘xyz’, ‘zyx’ or ‘yxz’ [default ‘zyx’]</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that rotation matrix is valid</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Roll-pitch-yaw angles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">tr2rpy(R)</span></code> are the roll-pitch-yaw angles corresponding to
the rotation part of <code class="docutils literal notranslate"><span class="pre">R</span></code>.</p>
<p>The 3 angles RPY = <span class="math notranslate nohighlight">\([\theta_R, \theta_P, \theta_Y]\)</span> correspond to sequential rotations about the
Z, Y and X axes respectively.  The axis order sequence can be changed by
setting:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">order='xyz'</span></code>  for sequential rotations about X, Y, Z axes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">order='yxz'</span></code>  for sequential rotations about Y, X, Z axes</p></li>
</ul>
<p>By default the angles are in radians but can be changed setting <code class="docutils literal notranslate"><span class="pre">unit='deg'</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>There is a singularity for the case where <span class="math notranslate nohighlight">\(\theta_P = \pi/2\)</span> in
which case we arbitrarily set <span class="math notranslate nohighlight">\(\theta_R=0\)</span> and 
<span class="math notranslate nohighlight">\(\theta_Y = \theta_R + \theta_Y\)</span>.</p></li>
<li><p>If the input is SE(3) the translation component is ignored.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.rpy2r" title="spatialmath.base.transforms3d.rpy2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2r()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.rpy2tr" title="spatialmath.base.transforms3d.rpy2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">rpy2tr()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a>, 
<a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>not supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trlog">
<code class="sig-name descname">trlog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">twist</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trlog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trlog" title="Permalink to this definition">¶</a></dt>
<dd><p>Logarithm of SO(3) or SE(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – SO(3) or SE(3) matrix</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check that matrix is valid</p></li>
<li><p><strong>twist</strong> (<em>bool</em>) – return a twist vector instead of matrix [default]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>logarithm</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix logarithm for arguments that are SO(3) or SE(3).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trlog(R)</span></code> is the logarithm of the passed rotation matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> which will be
3x3 skew-symmetric matrix.  The equivalent vector from <code class="docutils literal notranslate"><span class="pre">vex()</span></code> is parallel to rotation axis
and its norm is the amount of rotation about that axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trlog(T)</span></code> is the logarithm of the passed homogeneous transformation matrix <code class="docutils literal notranslate"><span class="pre">T</span></code> which will be
4x4 augumented skew-symmetric matrix. The equivalent vector from <code class="docutils literal notranslate"><span class="pre">vexa()</span></code> is the twist
vector (6x1) comprising [v w].</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms3d.trexp" title="spatialmath.base.transforms3d.trexp"><code class="xref py py-func docutils literal notranslate"><span class="pre">trexp()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.vex" title="spatialmath.base.transformsNd.vex"><code class="xref py py-func docutils literal notranslate"><span class="pre">vex()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.vexa" title="spatialmath.base.transformsNd.vexa"><code class="xref py py-func docutils literal notranslate"><span class="pre">vexa()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trexp">
<code class="sig-name descname">trexp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">theta</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trexp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trexp" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponential of so(3) or se(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – so(3), se(3) matrix or equivalent vector</p></li>
<li><p><strong>θ</strong> (<em>float</em>) – motion</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 or 4x4 matrix exponential in SO(3) or SE(3)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p>An efficient closed-form solution of the matrix exponential for arguments
that are so(3) or se(3).</p>
<p>For so(3) the results is an SO(3) rotation matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(Ω)</span></code> is the matrix exponential of the so(3) element <code class="docutils literal notranslate"><span class="pre">Ω</span></code> which is
a 3x3 skew-symmetric matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(Ω,</span> <span class="pre">θ)</span></code> as above but for an so(3) motion of Ωθ, where <code class="docutils literal notranslate"><span class="pre">Ω</span></code> is
unit-norm skew-symmetric matrix representing a rotation axis and a
rotation magnitude given by <code class="docutils literal notranslate"><span class="pre">θ</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(ω)</span></code> is the matrix exponential of the so(3) element <code class="docutils literal notranslate"><span class="pre">ω</span></code>
expressed as a 3-vector (array_like).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(ω,</span> <span class="pre">θ)</span></code> as above but for an so(3) motion of ωθ where <code class="docutils literal notranslate"><span class="pre">ω</span></code> is a
unit-norm vector representing a rotation axis and a rotation magnitude
given by <code class="docutils literal notranslate"><span class="pre">θ</span></code>. <code class="docutils literal notranslate"><span class="pre">ω</span></code> is expressed as a 3-vector (array_like).</p></li>
</ul>
<p>For se(3) the results is an SE(3) homogeneous transformation matrix:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(Σ)</span></code> is the matrix exponential of the se(3) element <code class="docutils literal notranslate"><span class="pre">Σ</span></code> which is
a 4x4 augmented skew-symmetric matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(Σ,</span> <span class="pre">θ)</span></code> as above but for an se(3) motion of Σθ, where <code class="docutils literal notranslate"><span class="pre">Σ</span></code> must
represent a unit-twist, ie. the rotational component is a unit-norm
skew-symmetric matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(S)</span></code> is the matrix exponential of the se(3) element <code class="docutils literal notranslate"><span class="pre">S</span></code>
represented as a 6-vector which can be considered a screw motion.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trexp(S,</span> <span class="pre">θ)</span></code> as above but for an se(3) motion of Sθ, where <code class="docutils literal notranslate"><span class="pre">S</span></code> must
represent a unit-twist, ie. the rotational component is a unit-norm
skew-symmetric matrix.</p></li>
</ul>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">trexp2()</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trnorm">
<code class="sig-name descname">trnorm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trnorm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trnorm" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize an SO(3) or SE(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – SO(3) or SE(3) matrix</p></li>
<li><p><strong>T1</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – second SE(3) matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) or SE(3) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trnorm(R)</span></code> is guaranteed to be a proper orthogonal matrix rotation
matrix (3x3) which is <em>close</em> to the input matrix R (3x3).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trnorm(T)</span></code> as above but the rotational submatrix of the homogeneous
transformation T (4x4) is normalised while the translational part is
unchanged.</p></li>
</ul>
<p>The steps in normalization are:</p>
<ol class="arabic simple">
<li><p>If <span class="math notranslate nohighlight">\(\mathbf{R} = [n, o, a]\)</span></p></li>
<li><p>Form unit vectors <span class="math notranslate nohighlight">\(\hat{o}, \hat{a}\)</span> from  <span class="math notranslate nohighlight">\(o, a\)</span> respectively</p></li>
<li><p>Form the normal vector <span class="math notranslate nohighlight">\(\hat{n} = \hat{o} \times \hat{a}\)</span></p></li>
<li><p>Recompute <span class="math notranslate nohighlight">\(\hat{o} = \hat{a} \times \hat{n}\)</span> to ensure that <span class="math notranslate nohighlight">\(\hat{o}, \hat{a}\)</span> are orthogonal</p></li>
<li><p>Form the normalized SO(3) matrix <span class="math notranslate nohighlight">\(\mathbf{R} = [\hat{n}, \hat{o}, \hat{a}]\)</span></p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Only the direction of a-vector (the z-axis) is unchanged.</p></li>
<li><p>Used to prevent finite word length arithmetic causing transforms to
become ‘unnormalized’, ie. determinant <span class="math notranslate nohighlight">\(\ne 1\)</span>.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trinterp">
<code class="sig-name descname">trinterp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">s</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trinterp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate SE(3) matrices</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em><em>, </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – initial SO(3) or SE(3) matrix value when s=0, if None then identity is used</p></li>
<li><p><strong>end</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em><em>, </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – final SO(3) or SE(3) matrix, value when s=1</p></li>
<li><p><strong>s</strong> (<em>float</em>) – interpolation coefficient, range 0 to 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SO(3) or SE(3) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(3,3), (4,4)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp(None,</span> <span class="pre">T,</span> <span class="pre">S)</span></code> is a homogeneous transform (4x4) interpolated
between identity when S=0 and T (4x4) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp(T0,</span> <span class="pre">T1,</span> <span class="pre">S)</span></code> as above but interpolated
between T0 (4x4) when S=0 and T1 (4x4) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp(None,</span> <span class="pre">R,</span> <span class="pre">S)</span></code> is a rotation matrix (3x3) interpolated
between identity when S=0 and R (3x3) when S=1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trinterp(R0,</span> <span class="pre">R1,</span> <span class="pre">S)</span></code> as above but interpolated
between R0 (3x3) when S=0 and R1 (3x3) when S=1.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Rotation is interpolated using quaternion spherical linear interpolation (slerp).</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.quaternions.slerp" title="spatialmath.base.quaternions.slerp"><code class="xref py py-func docutils literal notranslate"><span class="pre">spatialmath.base.quaternions.slerp()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">trinterp2()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.delta2tr">
<code class="sig-name descname">delta2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#delta2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.delta2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert differential motion to SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>Δ</strong> (<em>array_like</em>) – differential motion as a 6-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SE(3) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">delta2tr(Δ)</span></code> is an SE(3) matrix representing differential
motion <span class="math notranslate nohighlight">\(\Delta = [\delta_x, \delta_y, \delta_z, \theta_x, \theta_y, \theta_z]\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Reference</dt>
<dd class="field-odd"><p>Robotics, Vision &amp; Control: Second Edition, P. Corke, Springer 2016; p67.</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.base.transforms3d.tr2delta" title="spatialmath.base.transforms3d.tr2delta"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2delta()</span></code></a></p>
</dd>
<dt class="field-odd">SymPy</dt>
<dd class="field-odd"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trinv">
<code class="sig-name descname">trinv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trinv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trinv" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert an SE(3) matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>T</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – an SE(3) matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SE(3) matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p>Computes an efficient inverse of an SE(3) matrix:</p>
<p><span class="math notranslate nohighlight">\(\begin{pmatrix} {\bf R} &amp; t \\ 0\,0\,0 &amp; 1 \end{pmatrix}^{-1} =  \begin{pmatrix} {\bf R}^T &amp; -{\bf R}^T t \\ 0\,0\, 0 &amp; 1 \end{pmatrix}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">SymPy</dt>
<dd class="field-odd"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2delta">
<code class="sig-name descname">tr2delta</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T0</span></em>, <em class="sig-param"><span class="n">T1</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Difference of SE(3) matrices as differential motion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T0</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – first SE(3) matrix</p></li>
<li><p><strong>T1</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – second SE(3) matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sdifferential motion as a 6-vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(6,)</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tr2delta(T0,</span> <span class="pre">T1)</span></code> is the differential motion Δ (6x1) corresponding to
infinitessimal motion (in the T0 frame) from pose T0 to T1 which are SE(3) matrices.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tr2delta(T)</span></code> as above but the motion is from the world frame to the pose represented by T.</p></li>
</ul>
<p>The vector <span class="math notranslate nohighlight">\(\Delta = [\delta_x, \delta_y, \delta_z, \theta_x, \theta_y, \theta_z\)</span>
represents infinitessimal translation and rotation, and is an approximation to the
instantaneous spatial velocity multiplied by time step.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Δ is only an approximation to the motion T, and assumes
that T0 ~ T1 or T ~ eye(4,4).</p></li>
<li><p>Can be considered as an approximation to the effect of spatial velocity over a
a time interval, average spatial velocity multiplied by time.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Reference</dt>
<dd class="field-odd"><p>Robotics, Vision &amp; Control: Second Edition, P. Corke, Springer 2016; p67.</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p><a class="reference internal" href="#spatialmath.base.transforms3d.delta2tr" title="spatialmath.base.transforms3d.delta2tr"><code class="xref py py-func docutils literal notranslate"><span class="pre">delta2tr()</span></code></a></p>
</dd>
<dt class="field-odd">SymPy</dt>
<dd class="field-odd"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tr2jac">
<code class="sig-name descname">tr2jac</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">samebody</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tr2jac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tr2jac" title="Permalink to this definition">¶</a></dt>
<dd><p>SE(3) adjoint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>T</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – an SE(3) matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>adjoint matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(6,6)</p>
</dd>
</dl>
<p>Computes an adjoint matrix that maps spatial velocity between two frames defined by
an SE(3) matrix.  It is a Jacobian matrix.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tr2jac(T)</span></code> is a Jacobian matrix (6x6) that maps spatial velocity or
differential motion from frame {A} to frame {B} where the pose of {B}
relative to {A} is represented by the homogeneous transform T = <span class="math notranslate nohighlight">\({}^A {\bf T}_B\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tr2jac(T,</span> <span class="pre">True)</span></code> as above but for the case when frame {A} to frame {B} are both
attached to the same moving body.  This is the adjoint matrix</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Reference</dt>
<dd class="field-odd"><p>Robotics, Vision &amp; Control: Second Edition, P. Corke, Springer 2016; p65.</p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trprint">
<code class="sig-name descname">trprint</code><span class="sig-paren">(</span><em class="sig-param">T</em>, <em class="sig-param">orient='rpy/zyx'</em>, <em class="sig-param">label=None</em>, <em class="sig-param">file=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em>, <em class="sig-param">fmt='{:8.2g}'</em>, <em class="sig-param">degsym=True</em>, <em class="sig-param">unit='deg'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trprint" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Compact display of SO(3) or SE(3) matrices</p>
<dl class="field-list simple">
<dt class="field-odd">param T</dt>
<dd class="field-odd"><p>matrix to format</p>
</dd>
<dt class="field-even">type T</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
<dt class="field-odd">param label</dt>
<dd class="field-odd"><p>text label to put at start of line</p>
</dd>
<dt class="field-even">type label</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param orient</dt>
<dd class="field-odd"><p>3-angle convention to use</p>
</dd>
<dt class="field-even">type orient</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param file</dt>
<dd class="field-odd"><p>file to write formatted string to. [default, stdout]</p>
</dd>
<dt class="field-even">type file</dt>
<dd class="field-even"><p>file object</p>
</dd>
<dt class="field-odd">param fmt</dt>
<dd class="field-odd"><p>conversion format for each number</p>
</dd>
<dt class="field-even">type fmt</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param unit</dt>
<dd class="field-odd"><p>angular units: ‘rad’ [default], or ‘deg’</p>
</dd>
<dt class="field-even">type unit</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>formatted string</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p>The matrix is formatted and written to <code class="docutils literal notranslate"><span class="pre">file</span></code> and the
string is returned.  To suppress writing to a file, set <code class="docutils literal notranslate"><span class="pre">file=None</span></code>.</p>
</div></blockquote>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">trprint(R)</span></code> displays the SO(3) rotation matrix in a compact</dt><dd><p>single-line format:</p>
<blockquote>
<div><p>[LABEL:] ORIENTATION UNIT</p>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">trprint(T)</span></code> displays the SE(3) homogoneous transform in a compact
single-line format:</p>
<blockquote>
<div><p>[LABEL:] [t=X, Y, Z;] ORIENTATION UNIT</p>
</div></blockquote>
</li>
</ul>
<p>Orientation is expressed in one of several formats:</p>
<ul class="simple">
<li><p>‘rpy/zyx’ roll-pitch-yaw angles in ZYX axis order [default]</p></li>
<li><p>‘rpy/yxz’ roll-pitch-yaw angles in YXZ axis order</p></li>
<li><p>‘rpy/zyx’ roll-pitch-yaw angles in ZYX axis order</p></li>
<li><p>‘eul’ Euler angles in ZYZ axis order</p></li>
<li><p>‘angvec’ angle and axis</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">transl</span><span class="p">,</span> <span class="n">rpy2tr</span><span class="p">,</span> <span class="n">trprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">transl</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">@</span> <span class="n">rpy2tr</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trprint</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">&#39;t =        1,        2,        3; rpy/zyx =       10°,       20°,       30°&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trprint</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;angvec&#39;</span><span class="p">)</span>
<span class="go">&#39;T: t =        1,        2,        3; angvec = (      36° |     0.12,     0.62,     0.78)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trprint</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;angvec&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">{:8.4g}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">&#39;T: t =        1,        2,        3; angvec = (   35.82° |    0.124,   0.6156,   0.7782)&#39;</span>
</pre></div>
</div>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p>If the ‘rpy’ option is selected, then the particular angle sequence can be
specified with the options ‘xyz’ or ‘yxz’ which are passed through to <code class="docutils literal notranslate"><span class="pre">tr2rpy</span></code>.
‘zyx’ is the default.</p></li>
<li><p>Default formatting is for readable columns of data</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transforms2d.trprint2" title="spatialmath.base.transforms2d.trprint2"><code class="xref py py-func docutils literal notranslate"><span class="pre">trprint2()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2eul" title="spatialmath.base.transforms3d.tr2eul"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2eul()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2rpy" title="spatialmath.base.transforms3d.tr2rpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2rpy()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transforms3d.tr2angvec" title="spatialmath.base.transforms3d.tr2angvec"><code class="xref py py-func docutils literal notranslate"><span class="pre">tr2angvec()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>not supported</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.trplot">
<code class="sig-name descname">trplot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">block</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'blue'</span></em>, <em class="sig-param"><span class="n">frame</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">textcolor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">'X', 'Y', 'Z'</span></em>, <em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">arrow</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">projection</span><span class="o">=</span><span class="default_value">'ortho'</span></em>, <em class="sig-param"><span class="n">rviz</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">wtl</span><span class="o">=</span><span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">d1</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">d2</span><span class="o">=</span><span class="default_value">1.15</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#trplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.trplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a 3D coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – an SO(3) or SE(3) pose to be displayed as coordinate frame</p></li>
<li><p><strong>axes</strong> (<em>Axes3D reference</em>) – the axes to plot into, defaults to current axes</p></li>
<li><p><strong>block</strong> (<em>bool</em>) – run the GUI main loop until all windows are closed, default True</p></li>
<li><p><strong>dims</strong> (<em>array_like</em>) – dimension of plot volume as [xmin, xmax, ymin, ymax,zmin, zmax].
If dims is [min, max] those limits are applied to the x-, y- and z-axes.</p></li>
<li><p><strong>color</strong> (<em>str</em>) – color of the lines defining the frame</p></li>
<li><p><strong>textcolor</strong> (<em>str</em>) – color of text labels for the frame, default color of lines above</p></li>
<li><p><strong>frame</strong> (<em>str</em>) – label the frame, name is shown below the frame and as subscripts on the frame axis labels</p></li>
<li><p><strong>labels</strong> (<em>3-tuple of strings</em>) – labels for the axes, defaults to X, Y and Z</p></li>
<li><p><strong>length</strong> (<em>float</em>) – length of coordinate frame axes, default 1</p></li>
<li><p><strong>arrow</strong> (<em>bool</em>) – show arrow heads, default True</p></li>
<li><p><strong>wtl</strong> (<em>float</em>) – width-to-length ratio for arrows, default 0.2</p></li>
<li><p><strong>rviz</strong> (<em>bool</em>) – show Rviz style arrows, default False</p></li>
<li><p><strong>projection</strong> (<em>str</em>) – 3D projection: ortho [default] or persp</p></li>
<li><p><strong>width</strong> (<em>float</em>) – width of lines, default 1</p></li>
<li><p><strong>d1</strong> – distance of frame axis label text from origin, default 1.15</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>axes containing the frame</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Axes3DSubplot</p>
</dd>
</dl>
<p>Adds a 3D coordinate frame represented by the SO(3) or SE(3) matrix to the current axes.</p>
<ul class="simple">
<li><p>If no current figure, one is created</p></li>
<li><p>If current figure, but no axes, a 3d Axes is created</p></li>
</ul>
<p>Examples:</p>
<blockquote>
<div><p>trplot(T, frame=’A’)
trplot(T, frame=’A’, color=’green’)
trplot(T1, ‘labels’, ‘NOA’);</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">SymPy</dt>
<dd class="field-odd"><p>not supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transforms3d.tranimate">
<code class="sig-name descname">tranimate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transforms3d.html#tranimate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transforms3d.tranimate" title="Permalink to this definition">¶</a></dt>
<dd><p>Animate a 3D coordinate frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – an SO(3) or SE(3) pose to be displayed as coordinate frame</p></li>
<li><p><strong>nframes</strong> (<em>int</em>) – number of steps in the animation [defaault 100]</p></li>
<li><p><strong>repeat</strong> (<em>bool</em>) – animate in endless loop [default False]</p></li>
<li><p><strong>interval</strong> (<em>int</em>) – number of milliseconds between frames [default 50]</p></li>
<li><p><strong>movie</strong> (<em>str</em>) – name of file to write MP4 movie into</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p>Animates a 3D coordinate frame moving from the world frame to a frame represented by the SO(3) or SE(3) matrix to the current axes.</p>
<ul class="simple">
<li><p>If no current figure, one is created</p></li>
<li><p>If current figure, but no axes, a 3d Axes is created</p></li>
</ul>
<p>Examples:</p>
<blockquote>
<div><p>tranimate(transl(1,2,3)&#64;trotx(1), frame=’A’, arrow=False, dims=[0, 5])
tranimate(transl(1,2,3)&#64;trotx(1), frame=’A’, arrow=False, dims=[0, 5], movie=’spin.mp4’)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">SymPy</dt>
<dd class="field-odd"><p>not supported</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-spatialmath.base.transformsNd">
<span id="transforms-in-nd"></span><h2>Transforms in ND<a class="headerlink" href="#module-spatialmath.base.transformsNd" title="Permalink to this headline">¶</a></h2>
<p>This modules contains functions to create and transform rotation matrices
and homogeneous tranformation matrices.</p>
<p>Vector arguments are what numpy refers to as <code class="docutils literal notranslate"><span class="pre">array_like</span></code> and can be a list,
tuple, numpy array, numpy row vector or numpy column vector.</p>
<p>Versions:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Luis Fernando Lara Tobar and Peter Corke, 2008</p></li>
<li><p>Josh Carrigg Hodson, Aditya Dua, Chee Ho Chan, 2017</p></li>
<li><p>Peter Corke, 2020</p></li>
</ol>
</div></blockquote>
<dl class="py function">
<dt id="spatialmath.base.transformsNd.r2t">
<code class="sig-name descname">r2t</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#r2t"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.r2t" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(n) to SE(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> – rotation matrix</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">r2t(R)</span></code> is an SE(2) or SE(3) homogeneous transform equivalent to an
SO(2) or SO(3) orthonormal rotation matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> with a zero translational
component</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2 then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3: SO(2) -&gt; SE(2)</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3 then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4: SO(3) -&gt; SE(3)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>t2r, rt2tr</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.t2r">
<code class="sig-name descname">t2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#t2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.t2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SE(n) to SO(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – homogeneous transformation matrix</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">T2R(T)</span></code> is the orthonormal rotation matrix component of homogeneous
transformation matrix <code class="docutils literal notranslate"><span class="pre">T</span></code></p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3 then <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2: SE(2) -&gt; SO(2)</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4 then <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3: SE(3) -&gt; SO(3)</p></li>
</ul>
<p>Any translational component of T is lost.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>r2t, tr2rt</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.tr2rt">
<code class="sig-name descname">tr2rt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#tr2rt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.tr2rt" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SE(3) to SO(3) and translation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> – homogeneous transform matrix</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotation matrix and translation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple: numpy.ndarray, shape=(2,2) or (3,3); numpy.ndarray, shape=(2,) or (3,)</p>
</dd>
</dl>
<p>(R,t) = tr2rt(T) splits a homogeneous transformation matrix (NxN) into an orthonormal
rotation matrix R (MxM) and a translation vector T (Mx1), where N=M+1.</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3 - in SE(2) - then <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 2x1.</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4 - in SE(3) - then <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 3x1.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>rt2tr, tr2r</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.rt2tr">
<code class="sig-name descname">rt2tr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#rt2tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.rt2tr" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) and translation to SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> – rotation matrix</p></li>
<li><p><strong>t</strong> – translation vector</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous transform</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">rt2tr(R,</span> <span class="pre">t)</span></code> is a homogeneous transformation matrix (N+1xN+1) formed from an
orthonormal rotation matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> (NxN) and a translation vector <code class="docutils literal notranslate"><span class="pre">t</span></code>
(Nx1).</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 2x1, then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 3x1, then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>rt2m, tr2rt, r2t</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.rt2m">
<code class="sig-name descname">rt2m</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#rt2m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.rt2m" title="Permalink to this definition">¶</a></dt>
<dd><p>Pack rotation and translation to matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> – rotation matrix</p></li>
<li><p><strong>t</strong> – translation vector</p></li>
<li><p><strong>check</strong> – check if rotation matrix is valid (default False, no check)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous transform</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">=</span> <span class="pre">rt2m(R,</span> <span class="pre">t)</span></code> is a matrix (N+1xN+1) formed from a matrix <code class="docutils literal notranslate"><span class="pre">R</span></code> (NxN) and a vector <code class="docutils literal notranslate"><span class="pre">t</span></code>
(Nx1).  The bottom row is all zeros.</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">R</span></code> is 2x2 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 2x1, then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 3x3</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">R</span></code> is 3x3 and <code class="docutils literal notranslate"><span class="pre">t</span></code> is 3x1, then <code class="docutils literal notranslate"><span class="pre">T</span></code> is 4x4</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>rt2tr, tr2rt, r2t</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.isR">
<code class="sig-name descname">isR</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#isR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.isR" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to SO(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is a proper orthonormal rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Checks orthogonality, ie. <span class="math notranslate nohighlight">\({\bf R} {\bf R}^T = {\bf I}\)</span> and <span class="math notranslate nohighlight">\(\det({\bf R}) &gt; 0\)</span>.
For the first test we check that the norm of the residual is less than <code class="docutils literal notranslate"><span class="pre">tol</span> <span class="pre">*</span> <span class="pre">eps</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isrot2, isrot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.isskew">
<code class="sig-name descname">isskew</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#isskew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.isskew" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to so(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is a proper skew-symmetric matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Checks skew-symmetry, ie. <span class="math notranslate nohighlight">\({\bf S} + {\bf S}^T = {\bf 0}\)</span>.
We check that the norm of the residual is less than <code class="docutils literal notranslate"><span class="pre">tol</span> <span class="pre">*</span> <span class="pre">eps</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isskewa</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.isskewa">
<code class="sig-name descname">isskewa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#isskewa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.isskewa" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix belongs to se(n)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is a proper skew-symmetric matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Check if matrix is augmented skew-symmetric, ie. the top left (n-1xn-1) partition <code class="docutils literal notranslate"><span class="pre">S</span></code> is
skew-symmetric <span class="math notranslate nohighlight">\({\bf S} + {\bf S}^T = {\bf 0}\)</span>, and the bottom row is zero
We check that the norm of the residual is less than <code class="docutils literal notranslate"><span class="pre">tol</span> <span class="pre">*</span> <span class="pre">eps</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isskew</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.iseye">
<code class="sig-name descname">iseye</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#iseye"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.iseye" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if matrix is identity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>numpy.ndarray</em>) – matrix to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether matrix is a proper skew-symmetric matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Check if matrix is an identity matrix. We test that the trace tom row is zero
We check that the norm of the residual is less than <code class="docutils literal notranslate"><span class="pre">tol</span> <span class="pre">*</span> <span class="pre">eps</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>isskew, isskewa</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.skew">
<code class="sig-name descname">skew</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#skew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.skew" title="Permalink to this definition">¶</a></dt>
<dd><p>Create skew-symmetric metrix from vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – 1- or 3-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>skew-symmetric matrix in so(2) or so(3)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(2,2) or (3,3)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">skew(V)</span></code> is a skew-symmetric matrix formed from the elements of <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">len(V)</span></code>  is 1 then <code class="docutils literal notranslate"><span class="pre">S</span></code> = <span class="math notranslate nohighlight">\(\left[ \begin{array}{cc} 0 &amp; -v \\ v &amp; 0 \end{array} \right]\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">len(V)</span></code> is 3 then <code class="docutils literal notranslate"><span class="pre">S</span></code> = <span class="math notranslate nohighlight">\(\left[ \begin{array}{ccc} 0 &amp; -v_z &amp; v_y \\ v_z &amp; 0 &amp; -v_x \\ -v_y &amp; v_x &amp; 0\end{array} \right]\)</span></p></li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li><p>This is the inverse of the function <code class="docutils literal notranslate"><span class="pre">vex()</span></code>.</p></li>
<li><p>These are the generator matrices for the Lie algebras so(2) and so(3).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.vex" title="spatialmath.base.transformsNd.vex"><code class="xref py py-func docutils literal notranslate"><span class="pre">vex()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.skewa" title="spatialmath.base.transformsNd.skewa"><code class="xref py py-func docutils literal notranslate"><span class="pre">skewa()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.vex">
<code class="sig-name descname">vex</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#vex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.vex" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert skew-symmetric matrix to vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>2</em><em>,</em><em>2</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – skew-symmetric matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vector of unique values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(1,) or (3,)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">vex(S)</span></code> is the vector which has the corresponding skew-symmetric matrix <code class="docutils literal notranslate"><span class="pre">S</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code> is 2x2 - so(2) case - where <code class="docutils literal notranslate"><span class="pre">S</span></code> <span class="math notranslate nohighlight">\(= \left[ \begin{array}{cc} 0 &amp; -v \\ v &amp; 0 \end{array} \right]\)</span> then return <span class="math notranslate nohighlight">\([v]\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code> is 3x3 - so(3) case -  where <code class="docutils literal notranslate"><span class="pre">S</span></code> <span class="math notranslate nohighlight">\(= \left[ \begin{array}{ccc} 0 &amp; -v_z &amp; v_y \\ v_z &amp; 0 &amp; -v_x \\ -v_y &amp; v_x &amp; 0\end{array} \right]\)</span> then return <span class="math notranslate nohighlight">\([v_x, v_y, v_z]\)</span>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This is the inverse of the function <code class="docutils literal notranslate"><span class="pre">skew()</span></code>.</p></li>
<li><p>Only rudimentary checking (zero diagonal) is done to ensure that the matrix
is actually skew-symmetric.</p></li>
<li><p>The function takes the mean of the two elements that correspond to each unique
element of the matrix.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.skew" title="spatialmath.base.transformsNd.skew"><code class="xref py py-func docutils literal notranslate"><span class="pre">skew()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.vexa" title="spatialmath.base.transformsNd.vexa"><code class="xref py py-func docutils literal notranslate"><span class="pre">vexa()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.skewa">
<code class="sig-name descname">skewa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#skewa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.skewa" title="Permalink to this definition">¶</a></dt>
<dd><p>Create augmented skew-symmetric metrix from vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – 3- or 6-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>augmented skew-symmetric matrix in se(2) or se(3)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3) or (4,4)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">skewa(V)</span></code> is an augmented skew-symmetric matrix formed from the elements of <code class="docutils literal notranslate"><span class="pre">V</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">len(V)</span></code> is 3 then S = <span class="math notranslate nohighlight">\(\left[ \begin{array}{ccc} 0 &amp; -v_3 &amp; v_1 \\ v_3 &amp; 0 &amp; v_2 \\ 0 &amp; 0 &amp; 0 \end{array} \right]\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">len(V)</span></code> is 6 then S = <span class="math notranslate nohighlight">\(\left[ \begin{array}{cccc} 0 &amp; -v_6 &amp; v_5 &amp; v_1 \\ v_6 &amp; 0 &amp; -v_4 &amp; v_2 \\ -v_5 &amp; v_4 &amp; 0 &amp; v_3 \\ 0 &amp; 0 &amp; 0 &amp; 0 \end{array} \right]\)</span></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This is the inverse of the function <code class="docutils literal notranslate"><span class="pre">vexa()</span></code>.</p></li>
<li><p>These are the generator matrices for the Lie algebras se(2) and se(3).</p></li>
<li><p>Map twist vectors in 2D and 3D space to se(2) and se(3).</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.vexa" title="spatialmath.base.transformsNd.vexa"><code class="xref py py-func docutils literal notranslate"><span class="pre">vexa()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.skew" title="spatialmath.base.transformsNd.skew"><code class="xref py py-func docutils literal notranslate"><span class="pre">skew()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.vexa">
<code class="sig-name descname">vexa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Omega</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#vexa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.vexa" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert skew-symmetric matrix to vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – augmented skew-symmetric matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vector of unique values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,) or (6,)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">vex(S)</span></code> is the vector which has the corresponding skew-symmetric matrix <code class="docutils literal notranslate"><span class="pre">S</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code> is 3x3 - se(2) case - where <code class="docutils literal notranslate"><span class="pre">S</span></code> <span class="math notranslate nohighlight">\(= \left[ \begin{array}{ccc} 0 &amp; -v_3 &amp; v_1 \\ v_3 &amp; 0 &amp; v_2 \\ 0 &amp; 0 &amp; 0 \end{array} \right]\)</span> then return <span class="math notranslate nohighlight">\([v_1, v_2, v_3]\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code> is 4x4 - se(3) case -  where <code class="docutils literal notranslate"><span class="pre">S</span></code> <span class="math notranslate nohighlight">\(= \left[ \begin{array}{cccc} 0 &amp; -v_6 &amp; v_5 &amp; v_1 \\ v_6 &amp; 0 &amp; -v_4 &amp; v_2 \\ -v_5 &amp; v_4 &amp; 0 &amp; v_3 \\ 0 &amp; 0 &amp; 0 &amp; 0 \end{array} \right]\)</span> then return <span class="math notranslate nohighlight">\([v_1, v_2, v_3, v_4, v_5, v_6]\)</span>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This is the inverse of the function <code class="docutils literal notranslate"><span class="pre">skewa</span></code>.</p></li>
<li><p>Only rudimentary checking (zero diagonal) is done to ensure that the matrix
is actually skew-symmetric.</p></li>
<li><p>The function takes the mean of the two elements that correspond to each unique
element of the matrix.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.skewa" title="spatialmath.base.transformsNd.skewa"><code class="xref py py-func docutils literal notranslate"><span class="pre">skewa()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.vex" title="spatialmath.base.transformsNd.vex"><code class="xref py py-func docutils literal notranslate"><span class="pre">vex()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.rodrigues">
<code class="sig-name descname">rodrigues</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">w</span></em>, <em class="sig-param"><span class="n">theta</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#rodrigues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.rodrigues" title="Permalink to this definition">¶</a></dt>
<dd><p>Rodrigues’ formula for rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>array_like</em>) – rotation vector</p></li>
<li><p><strong>theta</strong> (<em>float</em><em> or </em><em>None</em>) – rotation angle</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.h2e">
<code class="sig-name descname">h2e</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#h2e"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.h2e" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from homogeneous to Euclidean form</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – homogeneous vector or matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Euclidean vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> is an array, shape=(N,), return an array shape=(N-1,) where the elements have
all been scaled by the last element of <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> is a matrix, shape=(N,M), return a matrix shape=(N-1,N), where each column has
been scaled by its last element.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>e2h</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.e2h">
<code class="sig-name descname">e2h</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#e2h"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.e2h" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from Euclidean to homogeneous form</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – Euclidean vector or matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>homogeneous vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> is an array, shape=(N,), return an array shape=(N+1,) where a value of 1 has
been appended</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> is a matrix, shape=(N,M), return a matrix shape=(N+1,N), where each column has
been appended with a value of 1, ie. a row of ones has been appended to the matrix.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>e2h</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.transformsNd.homtrans">
<code class="sig-name descname">homtrans</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">p</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/transformsNd.html#homtrans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.transformsNd.homtrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a homogeneous transformation to a Euclidean vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<em>Numpy array</em><em> (</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – homogeneous transformation</p></li>
<li><p><strong>p</strong> (<em>Numpy array</em><em> (</em><em>2</em><em>,</em><em>)</em><em>, </em><em>(</em><em>2</em><em>,</em><em>N</em><em>)</em><em>, </em><em>(</em><em>3</em><em>,</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>N</em><em>)</em>) – Vector(s) to be transformed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>transformed Euclidean vector(s)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Numpy array (2,), (2,N), (3,) or (3,N)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">homtrans(T,</span> <span class="pre">p)</span></code> applies the homogeneous transformation <code class="docutils literal notranslate"><span class="pre">T</span></code> to the points 
stored columnwise in <code class="docutils literal notranslate"><span class="pre">p</span></code>.</p>
<ul class="simple">
<li><dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">T</span></code> is in SE(2) (3x3) and</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> is 2xN (2D points) they are considered Euclidean (<span class="math notranslate nohighlight">\(\mathbb{R}^2\)</span>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> is 3xN (2D points) they are considered projective (<span class="math notranslate nohighlight">\(\mathbb{P}^2\)</span>)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">T</span></code> is in SE(3) (4x4) and</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> is 3xN (3D points) they are considered Euclidean (<span class="math notranslate nohighlight">\(\mathbb{R}^3\)</span>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> is 4xN (3D points) they are considered projective (<span class="math notranslate nohighlight">\(\mathbb{P}^3\)</span>)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The return value and <code class="docutils literal notranslate"><span class="pre">p</span></code> have the same number of rows, ie. if Euclidean points are given
then Euclidean points are returned, if projective points are given then
projective points are returned.</p>
<p>Notes:
- If T is a homogeneous transformation defining the pose of {B} with respect to {A},
then the points are defined with respect to frame {B} and are transformed to be
with respect to frame {A}.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.transformsNd.e2h" title="spatialmath.base.transformsNd.e2h"><code class="xref py py-func docutils literal notranslate"><span class="pre">e2h()</span></code></a>, <a class="reference internal" href="#spatialmath.base.transformsNd.h2e" title="spatialmath.base.transformsNd.h2e"><code class="xref py py-func docutils literal notranslate"><span class="pre">h2e()</span></code></a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-spatialmath.base.quaternions">
<span id="quaternions"></span><h2>Quaternions<a class="headerlink" href="#module-spatialmath.base.quaternions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="spatialmath.base.quaternions.eye">
<code class="sig-name descname">eye</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#eye"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.eye" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an identity quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an identity quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Creates an identity quaternion, with the scalar part equal to one, and
a zero vector value.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">eye</span><span class="p">,</span> <span class="n">qprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">eye</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">1.000000 &lt; 0.000000, 0.000000, 0.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.pure">
<code class="sig-name descname">pure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#pure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.pure" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pure quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – vector from a 3-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pure quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Creates a pure quaternion, with a zero scalar value and the vector part
equal to the passed vector value.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">pure</span><span class="p">,</span> <span class="n">qprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">pure</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">0.000000 &lt; 1.000000, 2.000000, 3.000000 &gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qnorm">
<code class="sig-name descname">qnorm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qnorm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qnorm" title="Permalink to this definition">¶</a></dt>
<dd><p>Norm of a quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – input quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>norm of the quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p>Returns the norm, length or magnitude of the input quaternion which is
<span class="math notranslate nohighlight">\(\sqrt{s^2 + v_x^2 + v_y^2 + v_z^2}\)</span></p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">qnorm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">qnorm</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">5.477225575051661</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.unit">
<code class="sig-name descname">unit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#unit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a unit quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – quaterion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a pure quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – if the quaternion has zero norm</p>
</dd>
</dl>
<p>Creates a unit quaternion, with unit norm, by scaling the input quaternion.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">unit</span><span class="p">,</span> <span class="n">qprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">unit</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">0.182574 &lt; 0.365148, 0.547723, 0.730297 &gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the quaternion norm is less than <code class="docutils literal notranslate"><span class="pre">tol</span> <span class="pre">*</span> <span class="pre">eps</span></code> an exception is
raised.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>norm</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.isunit">
<code class="sig-name descname">isunit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#isunit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.isunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if quaternion has unit length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array_like</em>) – quaternion as a 4-vector</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether quaternion has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">eye</span><span class="p">,</span> <span class="n">pure</span><span class="p">,</span> <span class="n">isunit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">eye</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isunit</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">pure</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isunit</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.isequal">
<code class="sig-name descname">isequal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">unitq</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#isequal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.isequal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if quaternions are equal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q1</strong> (<em>array_like</em>) – quaternion as a 4-vector</p></li>
<li><p><strong>q2</strong> (<em>array_like</em>) – quaternion as a 4-vector</p></li>
<li><p><strong>unitq</strong> (<em>bool</em>) – quaternions are unit quaternions</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether quaternion has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Tests if two quaternions are equal.</p>
<p>For unit-quaternions <code class="docutils literal notranslate"><span class="pre">unitq=True</span></code> the double mapping is taken into account,
that is <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">-q</span></code> represent the same orientation and <code class="docutils literal notranslate"><span class="pre">isequal(q,</span> <span class="pre">-q,</span> <span class="pre">unitq=True)</span></code> will
return <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">isequal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q2</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isequal</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isequal</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">unitq</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.q2v">
<code class="sig-name descname">q2v</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#q2v"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.q2v" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert unit-quaternion to 3-vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – unit-quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a unique 3-vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>Returns a unique 3-vector representing the input unit-quaternion. The sign
of the scalar part is made positive, if necessary by multiplying the
entire quaternion by -1, then the vector part is taken.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">q2v</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">q2v</span><span class="p">(</span><span class="n">q</span><span class="p">))</span>
<span class="go">[0.         0.70710678 0.        ]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">q2v</span><span class="p">(</span><span class="n">q</span><span class="p">))</span>
<span class="go">[-0.         -0.70710678 -0.        ]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed value is a unit-quaternion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.quaternions.v2q" title="spatialmath.base.quaternions.v2q"><code class="xref py py-func docutils literal notranslate"><span class="pre">v2q()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.v2q">
<code class="sig-name descname">v2q</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#v2q"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.v2q" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert 3-vector to unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – vector part of unit quaternion, a 3-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a unit quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – </p>
</dd>
</dl>
<p>Returns a unit-quaternion reconsituted from just its vector part.  Assumes
that the scalar part was positive, so <span class="math notranslate nohighlight">\(s = \sqrt{1-||v||}\)</span>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">v2q</span><span class="p">,</span> <span class="n">qprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">v2q</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="go">0.707107 &lt; 0.000000, 0.707107, 0.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">v2q</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="go">0.707107 &lt; 0.000000, -0.707107, 0.000000 &gt;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the value is the vector part of
a unit-quaternion, and this can lead to a math domain error.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.quaternions.q2v" title="spatialmath.base.quaternions.q2v"><code class="xref py py-func docutils literal notranslate"><span class="pre">q2v()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qqmul">
<code class="sig-name descname">qqmul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qqmul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qqmul" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion multiplication</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>: array_like</em>) – left-hand quaternion as a 4-vector</p></li>
<li><p><strong>q1</strong> (<em>array_like</em>) – right-hand quaternion as a 4-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>quaternion product</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>This is the quaternion or Hamilton product.  If both operands are unit-quaternions then
the product will be a unit-quaternion.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qvmul, inner, vvmul</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.inner">
<code class="sig-name descname">inner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#inner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.inner" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion innert product</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>: array_like</em>) – quaternion as a 4-vector</p></li>
<li><p><strong>q1</strong> (<em>array_like</em>) – uaternion as a 4-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>inner product</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>This is the inner or dot product of two quaternions, it is the sum of the element-wise
product.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qvmul</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qvmul">
<code class="sig-name descname">qvmul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qvmul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qvmul" title="Permalink to this definition">¶</a></dt>
<dd><p>Vector rotation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>v</strong> (<em>list</em><em>, </em><em>tuple</em><em>, </em><em>numpy.ndarray</em>) – 3-vector to be rotated</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rotated 3-vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>The vector <cite>v</cite> is rotated about the origin by the SO(3) equivalent of the unit
quaternion.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed value is a unit-quaternions.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qvmul</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.vvmul">
<code class="sig-name descname">vvmul</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qa</span></em>, <em class="sig-param"><span class="n">qb</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#vvmul"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.vvmul" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion multiplication</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qa</strong> (<em>: array_like</em>) – left-hand quaternion as a 3-vector</p></li>
<li><p><strong>qb</strong> (<em>array_like</em>) – right-hand quaternion as a 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>quaternion product</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
</dl>
<p>This is the quaternion or Hamilton product of unit-quaternions defined only
by their vector components.  The product will be a unit-quaternion, defined only
by its vector component.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qvmul, inner</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qpow">
<code class="sig-name descname">qpow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">power</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qpow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qpow" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise quaternion to a power</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> – quaternion as a 4-vector</p></li>
<li><p><strong>power</strong> (<em>int</em>) – exponent</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>input quaternion raised to the specified power</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Raises a quaternion to the specified power using repeated multiplication.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">qpow</span><span class="p">,</span> <span class="n">qqmul</span><span class="p">,</span> <span class="n">qprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">qqmul</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">q</span><span class="p">))</span>
<span class="go">-28.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">qpow</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">-28.000000 &lt; 4.000000, 6.000000, 8.000000 &gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">qpow</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="c1"># conjugate of above</span>
<span class="go">-28.000000 &lt; -4.000000, -6.000000, -8.000000 &gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.quaternions.qqmul" title="spatialmath.base.quaternions.qqmul"><code class="xref py py-func docutils literal notranslate"><span class="pre">qqmul()</span></code></a></p>
</dd>
<dt class="field-even">SymPy</dt>
<dd class="field-even"><p>supported for <code class="docutils literal notranslate"><span class="pre">q</span></code> but not <code class="docutils literal notranslate"><span class="pre">power</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.conj">
<code class="sig-name descname">conj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#conj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.conj" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion conjugate</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>conjugate of input quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Conjugate of quaternion, the vector part is negated.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">conj</span><span class="p">,</span> <span class="n">qprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">conj</span><span class="p">(</span><span class="n">q</span><span class="p">))</span>
<span class="go">1.000000 &lt; -2.000000, -3.000000, -4.000000 &gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">SymPy</dt>
<dd class="field-odd"><p>supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.q2r">
<code class="sig-name descname">q2r</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#q2r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.q2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert unit-quaternion to SO(3) rotation matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – unit-quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>corresponding SO(3) rotation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,3)</p>
</dd>
</dl>
<p>Returns an SO(3) rotation matrix corresponding to this unit-quaternion.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">q2r</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># rotation of 180deg about y-axis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">q2r</span><span class="p">(</span><span class="n">q</span><span class="p">))</span>
<span class="go">[[-1.  0.  0.]</span>
<span class="go"> [ 0.  1.  0.]</span>
<span class="go"> [ 0.  0. -1.]]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed value is a unit-quaternion.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.quaternions.r2q" title="spatialmath.base.quaternions.r2q"><code class="xref py py-func docutils literal notranslate"><span class="pre">r2q()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.r2q">
<code class="sig-name descname">r2q</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">R</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#r2q"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.r2q" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SO(3) rotation matrix to unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – rotation matrix</p></li>
<li><p><strong>check</strong> (<em>bool</em>) – check validity of rotation matrix, default False</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(3,)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – for non SO(3) argument</p>
</dd>
</dl>
<p>Returns a unit-quaternion corresponding to the input SO(3) rotation matrix.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">r2q</span><span class="p">,</span> <span class="n">qprint</span><span class="p">,</span> <span class="n">rotx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R</span> <span class="o">=</span> <span class="n">rotx</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span> <span class="c1"># rotation of 90deg about x-axis</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">[[ 1.000000e+00  0.000000e+00  0.000000e+00]</span>
<span class="go"> [ 0.000000e+00  6.123234e-17 -1.000000e+00]</span>
<span class="go"> [ 0.000000e+00  1.000000e+00  6.123234e-17]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qprint</span><span class="p">(</span><span class="n">r2q</span><span class="p">(</span><span class="n">R</span><span class="p">))</span>
<span class="go">0.707107 &lt; 0.707107, 0.000000, 0.000000 &gt;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed matrix is a valid rotation matrix.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.quaternions.q2r" title="spatialmath.base.quaternions.q2r"><code class="xref py py-func docutils literal notranslate"><span class="pre">q2r()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.slerp">
<code class="sig-name descname">slerp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q0</span></em>, <em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">shortest</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#slerp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.slerp" title="Permalink to this definition">¶</a></dt>
<dd><p>Quaternion conjugate</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>array_like</em>) – initial unit quaternion as a 4-vector</p></li>
<li><p><strong>q1</strong> (<em>array_like</em>) – final unit quaternion as a 4-vector</p></li>
<li><p><strong>s</strong> (<em>float</em>) – interpolation coefficient in the range [0,1]</p></li>
<li><p><strong>shortest</strong> (<em>bool</em>) – choose shortest distance [default False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>interpolated unit-quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>An interpolated quaternion between <code class="docutils literal notranslate"><span class="pre">q0</span></code> when <code class="docutils literal notranslate"><span class="pre">s</span></code> = 0 to <code class="docutils literal notranslate"><span class="pre">q1</span></code> when <code class="docutils literal notranslate"><span class="pre">s</span></code> = 1.</p>
<p>Interpolation is performed on a great circle on a 4D hypersphere. This is
a rotation about a single fixed axis in space which yields the straightest
and shortest path between two points.</p>
<p>For large rotations the path may be the <em>long way around</em> the circle,
the option <code class="docutils literal notranslate"><span class="pre">'shortest'</span></code> ensures always the shortest path.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed values are unit-quaternions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.rand">
<code class="sig-name descname">rand</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#rand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.rand" title="Permalink to this definition">¶</a></dt>
<dd><p>Random unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>random unit-quaternion</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p>Computes a uniformly distributed random unit-quaternion which can be
considered equivalent to a random SO(3) rotation.</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.matrix">
<code class="sig-name descname">matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to 4x4 matrix equivalent</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>q</strong> – quaternion as a 4-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>equivalent matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,4)</p>
</dd>
</dl>
<p>Hamilton multiplication between two quaternions can be considered as a
matrix-vector product, the left-hand quaternion is represented by an
equivalent 4x4 matrix and the right-hand quaternion as 4x1 column vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>qqmul</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.dot">
<code class="sig-name descname">dot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">w</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#dot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Rate of change of unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>w</strong> (<em>array_like</em>) – angular velocity in world frame as a 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rate of change of unit quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">dot(q,</span> <span class="pre">w)</span></code> is the rate of change of the elements of the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>
which represents the orientation of a body frame with angular velocity <code class="docutils literal notranslate"><span class="pre">w</span></code> in
the world frame.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed values are unit-quaternions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.dotb">
<code class="sig-name descname">dotb</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q</span></em>, <em class="sig-param"><span class="n">w</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#dotb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.dotb" title="Permalink to this definition">¶</a></dt>
<dd><p>Rate of change of unit-quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>w</strong> (<em>array_like</em>) – angular velocity in body frame as a 3-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>rate of change of unit quaternion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray, shape=(4,)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">dotb(q,</span> <span class="pre">w)</span></code> is the rate of change of the elements of the unit quaternion <code class="docutils literal notranslate"><span class="pre">q</span></code>
which represents the orientation of a body frame with angular velocity <code class="docutils literal notranslate"><span class="pre">w</span></code> in
the body frame.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed values are unit-quaternions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.angle">
<code class="sig-name descname">angle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q1</span></em>, <em class="sig-param"><span class="n">q2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Angle between two unit-quaternions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q0</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>q1</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>angle between the rotations [radians]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p>If each of the input quaternions is considered a rotated coordinate
frame, then the angle is the smallest rotation required about a fixed
axis, to rotate the first frame into the second.</p>
<p>References:  Metrics for 3D rotations: comparison and analysis,
Du Q. Huynh, % J.Math Imaging Vis. DOFI 10.1007/s10851-009-0161-2.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There is no check that the passed values are unit-quaternions.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.quaternions.qprint">
<code class="sig-name descname">qprint</code><span class="sig-paren">(</span><em class="sig-param">q</em>, <em class="sig-param">delim=('&lt;'</em>, <em class="sig-param">'&gt;')</em>, <em class="sig-param">fmt='%f'</em>, <em class="sig-param">file=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/quaternions.html#qprint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.quaternions.qprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a quaternion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<em>array_like</em>) – unit-quaternion as a 4-vector</p></li>
<li><p><strong>delim</strong> (<em>list</em><em> or </em><em>tuple of strings</em>) – 2-list of delimeters [default (‘&lt;’, ‘&gt;’)]</p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – printf-style format soecifier [default ‘%f’]</p></li>
<li><p><strong>file</strong> (<em>file object</em>) – destination for formatted string [default sys.stdout]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p>Format the quaternion in a human-readable form as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">S</span>  <span class="n">D1</span>  <span class="n">VX</span> <span class="n">VY</span> <span class="n">VZ</span> <span class="n">D2</span>
</pre></div>
</div>
<p>where S, VX, VY, VZ are the quaternion elements, and D1 and D2 are a pair
of delimeters given by <cite>delim</cite>.</p>
<p>By default the string is written to <cite>sys.stdout</cite>.</p>
<p>If <cite>file=None</cite> then a string is returned.</p>
</dd></dl>

</div>
<div class="section" id="utility">
<h2>Utility<a class="headerlink" href="#utility" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-spatialmath.base.vectors">
<span id="vectors"></span><h3>Vectors<a class="headerlink" href="#module-spatialmath.base.vectors" title="Permalink to this headline">¶</a></h3>
<p>This modules contains functions to create and transform rotation matrices
and homogeneous tranformation matrices.</p>
<p>Vector arguments are what numpy refers to as <code class="docutils literal notranslate"><span class="pre">array_like</span></code> and can be a list,
tuple, numpy array, numpy row vector or numpy column vector.</p>
<dl class="py function">
<dt id="spatialmath.base.vectors.colvec">
<code class="sig-name descname">colvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#colvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.colvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a column vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array like</em>) – an N-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a column vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>NumPy ndarray, shape=(N,1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.unitvec">
<code class="sig-name descname">unitvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unitvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.unitvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a unit vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> (<em>array_like</em>) – n-dimensional vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a unit-vector parallel to V.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – for zero length vector</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">unitvec(v)</span></code> is a vector parallel to <cite>v</cite> of unit length.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>norm</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.norm">
<code class="sig-name descname">norm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Norm of vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> – n-vector as a list, dict, or a numpy array, row or column vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>norm of vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">norm(v)</span></code> is the 2-norm (length or magnitude) of the vector <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.isunitvec">
<code class="sig-name descname">isunitvec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#isunitvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.isunitvec" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector has unit length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>numpy.ndarray</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p>unit, isunittwist</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.iszerovec">
<code class="sig-name descname">iszerovec</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#iszerovec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.iszerovec" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector has zero length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>numpy.ndarray</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has zero length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Seealso</dt>
<dd class="field-even"><p>unit, isunittwist</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.isunittwist">
<code class="sig-name descname">isunittwist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#isunittwist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.isunittwist" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector represents a unit twist in SE(2) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array_like</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Vector is is intepretted as <span class="math notranslate nohighlight">\([v, \omega]\)</span> where <span class="math notranslate nohighlight">\(v \in \mathbb{R}^n\)</span> and
<span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^1\)</span> for SE(2) and <span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^3\)</span> for SE(3).</p>
<p>A unit twist can be a:</p>
<ul class="simple">
<li><p>unit rotational twist where <span class="math notranslate nohighlight">\(|| \omega || = 1\)</span>, or</p></li>
<li><p>unit translational twist where <span class="math notranslate nohighlight">\(|| \omega || = 0\)</span> and <span class="math notranslate nohighlight">\(|| v || = 1\)</span>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit, isunitvec</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.isunittwist2">
<code class="sig-name descname">isunittwist2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#isunittwist2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.isunittwist2" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if vector represents a unit twist in SE(2) or SE(3)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array_like</em>) – vector to test</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether vector has unit length</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p>Vector is is intepretted as <span class="math notranslate nohighlight">\([v, \omega]\)</span> where <span class="math notranslate nohighlight">\(v \in \mathbb{R}^n\)</span> and
<span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^1\)</span> for SE(2) and <span class="math notranslate nohighlight">\(\omega \in \mathbb{R}^3\)</span> for SE(3).</p>
<p>A unit twist can be a:</p>
<ul class="simple">
<li><p>unit rotational twist where <span class="math notranslate nohighlight">\(|| \omega || = 1\)</span>, or</p></li>
<li><p>unit translational twist where <span class="math notranslate nohighlight">\(|| \omega || = 0\)</span> and <span class="math notranslate nohighlight">\(|| v || = 1\)</span>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p>unit, isunitvec</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.unittwist">
<code class="sig-name descname">unittwist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unittwist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.unittwist" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert twist to unit twist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>array_like</em>) – twist as a 6-vector</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit twist and scalar motion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(6,)</p>
</dd>
</dl>
<p>A unit twist is a twist where:</p>
<ul class="simple">
<li><p>the rotation part has unit magnitude</p></li>
<li><p>if the rotational part is zero, then the translational part has unit magnitude</p></li>
</ul>
<p>Returns None if the twist has zero magnitude</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.unittwist_norm">
<code class="sig-name descname">unittwist_norm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unittwist_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.unittwist_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert twist to unit twist and norm</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>array_like</em>) – twist as a 6-vector</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in units of eps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit twist and scalar motion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple (np.ndarray shape=(6,), theta)</p>
</dd>
</dl>
<p>A unit twist is a twist where:</p>
<ul class="simple">
<li><p>the rotation part has unit magnitude</p></li>
<li><p>if the rotational part is zero, then the translational part has unit magnitude</p></li>
</ul>
<p>Returns (None,None) if the twist has zero magnitude</p>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.unittwist2">
<code class="sig-name descname">unittwist2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">S</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#unittwist2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.unittwist2" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert twist to unit twist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>array_like</em>) – twist as a 3-vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>unit twist and scalar motion</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple (unit_twist, theta)</p>
</dd>
</dl>
<p>A unit twist is a twist where:</p>
<ul class="simple">
<li><p>the rotation part has unit magnitude</p></li>
<li><p>if the rotational part is zero, then the translational part has unit magnitude</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.angdiff">
<code class="sig-name descname">angdiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#angdiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.angdiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Angular difference</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>scalar</em><em> or </em><em>array_like</em>) – angle in radians</p></li>
<li><p><strong>b</strong> (<em>scalar</em><em> or </em><em>array_like</em>) – angle in radians</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>angular difference a-b</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>scalar or array_like</p>
</dd>
</dl>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are both scalars, the result is scalar</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> is array_like, the result is a vector a[i]-b</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> is array_like, the result is a vector a-b[i]</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are both vectors of the same length, the result is a vector a[i]-b[i]</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.vectors.removesmall">
<code class="sig-name descname">removesmall</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/vectors.html#removesmall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.vectors.removesmall" title="Permalink to this definition">¶</a></dt>
<dd><p>Set small values to zero</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array-like</em>) – Input vector</p></li>
<li><p><strong>tol</strong> (<em>int</em><em>, </em><em>optional</em>) – Tolerance in units of eps, defaults to 100</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Input vector with small values set to zero</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>NumPy ndarray</p>
</dd>
</dl>
<p>Values with absolute value less than <code class="docutils literal notranslate"><span class="pre">tol</span></code> will be set to zero.</p>
</dd></dl>

</div>
<div class="section" id="module-spatialmath.base.animate">
<span id="graphic-animation"></span><h3>Graphic animation<a class="headerlink" href="#module-spatialmath.base.animate" title="Permalink to this headline">¶</a></h3>
<p>Created on Mon Apr 27 12:44:45 2020</p>
<p>&#64;author: corkep</p>
<dl class="py class">
<dt id="spatialmath.base.animate.Animate">
<em class="property">class </em><code class="sig-name descname">Animate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">projection</span><span class="o">=</span><span class="default_value">'ortho'</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">'X', 'Y', 'Z'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Animate objects for matplotlib 3d</p>
<p>An instance of this class behaves like an Axes3D and supports proxies for</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">plot</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quiver</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></li>
</ul>
<p>which renders them and also places corresponding objects into a display
list. These objects are <code class="docutils literal notranslate"><span class="pre">Line</span></code>, <code class="docutils literal notranslate"><span class="pre">Quiver</span></code> and <code class="docutils literal notranslate"><span class="pre">Text</span></code>.  Only these
primitives will be animated.</p>
<p>The objects are all drawn relative to the origin, and will be transformed
according to the transform that is being animated.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">anim</span> <span class="o">=</span> <span class="n">animate</span><span class="o">.</span><span class="n">Animate</span><span class="p">(</span><span class="n">dims</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># set up the 3D axes</span>
<span class="n">anim</span><span class="o">.</span><span class="n">trplot</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>  <span class="c1"># draw the frame</span>
<span class="n">anim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">loop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># animate it</span>
</pre></div>
</div>
<dl class="py method">
<dt id="spatialmath.base.animate.Animate.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">projection</span><span class="o">=</span><span class="default_value">'ortho'</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">'X', 'Y', 'Z'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an Animate object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> (<em>Axes3D reference</em>) – the axes to plot into, defaults to current axes</p></li>
<li><p><strong>dims</strong> (<em>array_like</em>) – dimension of plot volume as [xmin, xmax, ymin, ymax,
zmin, zmax]. If dims is [min, max] those limits are applied
to the x-, y- and z-axes.</p></li>
<li><p><strong>projection</strong> (<em>str</em>) – 3D projection: ortho [default] or persp</p></li>
<li><p><strong>labels</strong> (<em>3-tuple of strings</em>) – labels for the axes, defaults to X, Y and Z</p></li>
</ul>
</dd>
</dl>
<p>Will setup to plot into an existing or a new Axes3D instance.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.trplot">
<code class="sig-name descname">trplot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.trplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.trplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the transform to animate</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – the final pose SO(3) or SE(3) to display as a coordinate frame</p></li>
<li><p><strong>start</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>3</em><em>,</em><em>3</em><em>) or </em><em>(</em><em>4</em><em>,</em><em>4</em><em>)</em>) – the initial pose SO(3) or SE(3) to display as a coordinate frame, defaults to null</p></li>
<li><p><strong>start</strong> – an</p></li>
</ul>
</dd>
</dl>
<p>Is polymorphic with <code class="docutils literal notranslate"><span class="pre">base.trplot</span></code> and accepts the same parameters.
This sets up the animation but doesn’t execute it.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.animate.Animate.run" title="spatialmath.base.animate.Animate.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">movie</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">repeat</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">interval</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">nframes</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">pause</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the animation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> (<em>Axes3D reference</em>) – the axes to plot into, defaults to current axes</p></li>
<li><p><strong>repeat</strong> (<em>bool</em>) – animate in endless loop [default False]</p></li>
<li><p><strong>nframes</strong> (<em>int</em>) – number of steps in the animation [defaault 100]</p></li>
<li><p><strong>interval</strong> (<em>int</em>) – number of milliseconds between frames [default 50]</p></li>
<li><p><strong>movie</strong> (<em>str</em>) – name of file to write MP4 movie into</p></li>
</ul>
</dd>
</dl>
<p>Animates a 3D coordinate frame moving from the world frame to a frame
represented by the SO(3) or SE(3) matrix to the current axes.</p>
<p>Notes:</p>
<ul class="simple">
<li><dl class="simple">
<dt>the <code class="docutils literal notranslate"><span class="pre">movie</span></code> option requires the ffmpeg package to be installed:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">ffmpeg</span></code></p>
</dd>
</dl>
</li>
<li><p>invokes the draw() method of every object in the display list</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Human readable version of the display list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<a class="reference internal" href="#spatialmath.base.animate.Animate" title="spatialmath.base.animate.Animate"><em>Animate</em></a>) – the animation</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>readable version of the display list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.artists">
<code class="sig-name descname">artists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.artists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.artists" title="Permalink to this definition">¶</a></dt>
<dd><p>List of artists that need to be updated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<a class="reference internal" href="#spatialmath.base.animate.Animate" title="spatialmath.base.animate.Animate"><em>Animate</em></a>) – the animation</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of artists</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">z</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a polyline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em>) – list of x-coordinates</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – list of y-coordinates</p></li>
<li><p><strong>z</strong> (<em>array_like</em>) – list of z-coordinates</p></li>
</ul>
</dd>
</dl>
<p>Other arguments as accepted by the matplotlib method.</p>
<p>All arrays must have the same length.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.plot()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.quiver">
<code class="sig-name descname">quiver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">z</span></em>, <em class="sig-param"><span class="n">u</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">w</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.quiver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.quiver" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a quiver</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em>) – list of base x-coordinates</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – list of base y-coordinates</p></li>
<li><p><strong>z</strong> (<em>array_like</em>) – list of base z-coordinates</p></li>
<li><p><strong>u</strong> (<em>array_like</em>) – list of vector x-coordinates</p></li>
<li><p><strong>v</strong> (<em>array_like</em>) – list of vector y-coordinates</p></li>
<li><p><strong>w</strong> (<em>array_like</em>) – list of vector z-coordinates</p></li>
</ul>
</dd>
</dl>
<p>Draws a series of arrows, the bases defined by corresponding elements
of (x,y,z) and the vector has components defined by corresponding
elements of (u,v,w).</p>
<p>Other arguments as accepted by the matplotlib method.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.quiver()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.text">
<code class="sig-name descname">text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">z</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot text</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – x-coordinate</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – float</p></li>
<li><p><strong>z</strong> (<em>float</em>) – z-coordinate</p></li>
</ul>
</dd>
</dl>
<p>Other arguments as accepted by the matplotlib method.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.text()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.scatter">
<code class="sig-name descname">scatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.scatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.scatter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.set_xlim">
<code class="sig-name descname">set_xlim</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.set_xlim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.set_xlim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.set_ylim">
<code class="sig-name descname">set_ylim</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.set_ylim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.set_ylim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.set_zlim">
<code class="sig-name descname">set_zlim</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.set_zlim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.set_zlim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.set_xlabel">
<code class="sig-name descname">set_xlabel</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.set_xlabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.set_xlabel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.set_ylabel">
<code class="sig-name descname">set_ylabel</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.set_ylabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.set_ylabel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate.set_zlabel">
<code class="sig-name descname">set_zlabel</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate.set_zlabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate.set_zlabel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="spatialmath.base.animate.Animate.__dict__">
<code class="sig-name descname">__dict__</code><em class="property"> = mappingproxy({'__module__': 'spatialmath.base.animate', '__doc__': &quot;\n    Animate objects for matplotlib 3d\n\n    An instance of this class behaves like an Axes3D and supports proxies for\n\n    - ``plot``\n    - ``quiver``\n    - ``text``\n\n    which renders them and also places corresponding objects into a display\n    list. These objects are ``Line``, ``Quiver`` and ``Text``.  Only these\n    primitives will be animated.\n\n    The objects are all drawn relative to the origin, and will be transformed\n    according to the transform that is being animated.\n\n    Example::\n\n        anim = animate.Animate(dims=[0,2]) # set up the 3D axes\n        anim.trplot(T, frame='A', color='green')  # draw the frame\n        anim.run(loop=True)  # animate it\n    &quot;, '__init__': &lt;function Animate.__init__&gt;, 'trplot': &lt;function Animate.trplot&gt;, 'run': &lt;function Animate.run&gt;, '__repr__': &lt;function Animate.__repr__&gt;, 'artists': &lt;function Animate.artists&gt;, '_draw': &lt;function Animate._draw&gt;, '_Line': &lt;class 'spatialmath.base.animate.Animate._Line'&gt;, 'plot': &lt;function Animate.plot&gt;, '_Quiver': &lt;class 'spatialmath.base.animate.Animate._Quiver'&gt;, 'quiver': &lt;function Animate.quiver&gt;, '_Text': &lt;class 'spatialmath.base.animate.Animate._Text'&gt;, 'text': &lt;function Animate.text&gt;, 'scatter': &lt;function Animate.scatter&gt;, 'set_xlim': &lt;function Animate.set_xlim&gt;, 'set_ylim': &lt;function Animate.set_ylim&gt;, 'set_zlim': &lt;function Animate.set_zlim&gt;, 'set_xlabel': &lt;function Animate.set_xlabel&gt;, 'set_ylabel': &lt;function Animate.set_ylabel&gt;, 'set_zlabel': &lt;function Animate.set_zlabel&gt;, '__dict__': &lt;attribute '__dict__' of 'Animate' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'Animate' objects&gt;})</em><a class="headerlink" href="#spatialmath.base.animate.Animate.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="spatialmath.base.animate.Animate.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'spatialmath.base.animate'</em><a class="headerlink" href="#spatialmath.base.animate.Animate.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="spatialmath.base.animate.Animate.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#spatialmath.base.animate.Animate.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="spatialmath.base.animate.Animate2">
<em class="property">class </em><code class="sig-name descname">Animate2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">'X', 'Y'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Animate objects for matplotlib 2d</p>
<p>An instance of this class behaves like an Axes3D and supports proxies for</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">plot</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quiver</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></li>
</ul>
<p>which renders them and also places corresponding objects into a display
list. These objects are <code class="docutils literal notranslate"><span class="pre">Line</span></code>, <code class="docutils literal notranslate"><span class="pre">Quiver</span></code> and <code class="docutils literal notranslate"><span class="pre">Text</span></code>.  Only these
primitives will be animated.</p>
<p>The objects are all drawn relative to the origin, and will be transformed
according to the transform that is being animated.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">anim</span> <span class="o">=</span> <span class="n">animate</span><span class="o">.</span><span class="n">Animate</span><span class="p">(</span><span class="n">dims</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># set up the 3D axes</span>
<span class="n">anim</span><span class="o">.</span><span class="n">trplot</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>  <span class="c1"># draw the frame</span>
<span class="n">anim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">loop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># animate it</span>
</pre></div>
</div>
<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels</span><span class="o">=</span><span class="default_value">'X', 'Y'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an Animate object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> (<em>Axes3D reference</em>) – the axes to plot into, defaults to current axes</p></li>
<li><p><strong>dims</strong> (<em>array_like</em>) – dimension of plot volume as [xmin, xmax, ymin, ymax,
zmin, zmax]. If dims is [min, max] those limits are applied
to the x-, y- and z-axes.</p></li>
<li><p><strong>projection</strong> (<em>str</em>) – 3D projection: ortho [default] or persp</p></li>
<li><p><strong>labels</strong> (<em>3-tuple of strings</em>) – labels for the axes, defaults to X, Y and Z</p></li>
</ul>
</dd>
</dl>
<p>Will setup to plot into an existing or a new Axes3D instance.</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.trplot2">
<code class="sig-name descname">trplot2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">end</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.trplot2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.trplot2" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the transform to animate</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>2</em><em>,</em><em>2</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – the final pose SO(2) or SE(2) to display as a coordinate frame</p></li>
<li><p><strong>start</strong> (<em>numpy.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>2</em><em>,</em><em>2</em><em>) or </em><em>(</em><em>3</em><em>,</em><em>3</em><em>)</em>) – the initial pose SO(2) or SE(2) to display as a coordinate frame, defaults to null</p></li>
</ul>
</dd>
</dl>
<p>Is polymorphic with <code class="docutils literal notranslate"><span class="pre">base.trplot</span></code> and accepts the same parameters.
This sets up the animation but doesn’t execute it.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.animate.Animate2.run" title="spatialmath.base.animate.Animate2.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">movie</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">repeat</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">interval</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">nframes</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the animation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes</strong> (<em>Axes3D reference</em>) – the axes to plot into, defaults to current axes</p></li>
<li><p><strong>nframes</strong> (<em>int</em>) – number of steps in the animation [defaault 100]</p></li>
<li><p><strong>repeat</strong> (<em>bool</em>) – animate in endless loop [default False]</p></li>
<li><p><strong>interval</strong> (<em>int</em>) – number of milliseconds between frames [default 50]</p></li>
<li><p><strong>movie</strong> (<em>str</em>) – name of file to write MP4 movie into</p></li>
</ul>
</dd>
</dl>
<p>Animates a 3D coordinate frame moving from the world frame to a frame
represented by the SO(3) or SE(3) matrix to the current axes.</p>
<p>Notes:</p>
<ul class="simple">
<li><dl class="simple">
<dt>the <code class="docutils literal notranslate"><span class="pre">movie</span></code> option requires the ffmpeg package to be installed:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">conda-forge</span> <span class="pre">ffmpeg</span></code></p>
</dd>
</dl>
</li>
<li><p>invokes the draw() method of every object in the display list</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Human readable version of the display list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<a class="reference internal" href="#spatialmath.base.animate.Animate" title="spatialmath.base.animate.Animate"><em>Animate</em></a>) – the animation</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>readable version of the display list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.artists">
<code class="sig-name descname">artists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.artists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.artists" title="Permalink to this definition">¶</a></dt>
<dd><p>List of artists that need to be updated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>self</strong> (<a class="reference internal" href="#spatialmath.base.animate.Animate" title="spatialmath.base.animate.Animate"><em>Animate</em></a>) – the animation</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of artists</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a polyline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em>) – list of x-coordinates</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – list of y-coordinates</p></li>
</ul>
</dd>
</dl>
<p>Other arguments as accepted by the matplotlib method.</p>
<p>All arrays must have the same length.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.plot()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.quiver">
<code class="sig-name descname">quiver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">u</span></em>, <em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.quiver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.quiver" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a quiver</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em>) – list of base x-coordinates</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – list of base y-coordinates</p></li>
<li><p><strong>u</strong> (<em>array_like</em>) – list of vector x-coordinates</p></li>
<li><p><strong>v</strong> (<em>array_like</em>) – list of vector y-coordinates</p></li>
</ul>
</dd>
</dl>
<p>Draws a series of arrows, the bases defined by corresponding elements
of (x,y,z) and the vector has components defined by corresponding
elements of (u,v,w).</p>
<p>Other arguments as accepted by the matplotlib method.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.quiver()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.text">
<code class="sig-name descname">text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot text</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – x-coordinate</p></li>
<li><p><strong>y</strong> (<em>array_like</em>) – float</p></li>
<li><p><strong>z</strong> (<em>float</em>) – z-coordinate</p></li>
</ul>
</dd>
</dl>
<p>Other arguments as accepted by the matplotlib method.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.text()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="spatialmath.base.animate.Animate2.__dict__">
<code class="sig-name descname">__dict__</code><em class="property"> = mappingproxy({'__module__': 'spatialmath.base.animate', '__doc__': &quot;\n    Animate objects for matplotlib 2d\n\n    An instance of this class behaves like an Axes3D and supports proxies for\n\n    - ``plot``\n    - ``quiver``\n    - ``text``\n\n    which renders them and also places corresponding objects into a display\n    list. These objects are ``Line``, ``Quiver`` and ``Text``.  Only these\n    primitives will be animated.\n\n    The objects are all drawn relative to the origin, and will be transformed\n    according to the transform that is being animated.\n\n    Example::\n\n        anim = animate.Animate(dims=[0,2]) # set up the 3D axes\n        anim.trplot(T, frame='A', color='green')  # draw the frame\n        anim.run(loop=True)  # animate it\n    &quot;, '__init__': &lt;function Animate2.__init__&gt;, 'trplot2': &lt;function Animate2.trplot2&gt;, 'run': &lt;function Animate2.run&gt;, '__repr__': &lt;function Animate2.__repr__&gt;, 'artists': &lt;function Animate2.artists&gt;, '_draw': &lt;function Animate2._draw&gt;, '_Line': &lt;class 'spatialmath.base.animate.Animate2._Line'&gt;, 'plot': &lt;function Animate2.plot&gt;, '_Quiver': &lt;class 'spatialmath.base.animate.Animate2._Quiver'&gt;, 'quiver': &lt;function Animate2.quiver&gt;, '_Text': &lt;class 'spatialmath.base.animate.Animate2._Text'&gt;, 'text': &lt;function Animate2.text&gt;, 'scatter': &lt;function Animate2.scatter&gt;, 'set_xlim': &lt;function Animate2.set_xlim&gt;, 'set_ylim': &lt;function Animate2.set_ylim&gt;, 'set_xlabel': &lt;function Animate2.set_xlabel&gt;, 'set_ylabel': &lt;function Animate2.set_ylabel&gt;, '__dict__': &lt;attribute '__dict__' of 'Animate2' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'Animate2' objects&gt;})</em><a class="headerlink" href="#spatialmath.base.animate.Animate2.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="spatialmath.base.animate.Animate2.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'spatialmath.base.animate'</em><a class="headerlink" href="#spatialmath.base.animate.Animate2.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="spatialmath.base.animate.Animate2.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#spatialmath.base.animate.Animate2.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.scatter">
<code class="sig-name descname">scatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.scatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.scatter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.set_xlim">
<code class="sig-name descname">set_xlim</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.set_xlim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.set_xlim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.set_ylim">
<code class="sig-name descname">set_ylim</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.set_ylim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.set_ylim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.set_xlabel">
<code class="sig-name descname">set_xlabel</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.set_xlabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.set_xlabel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="spatialmath.base.animate.Animate2.set_ylabel">
<code class="sig-name descname">set_ylabel</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/animate.html#Animate2.set_ylabel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.animate.Animate2.set_ylabel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-spatialmath.base.argcheck">
<span id="argument-checking"></span><h3>Argument checking<a class="headerlink" href="#module-spatialmath.base.argcheck" title="Permalink to this headline">¶</a></h3>
<p>Utility functions for testing and converting passed arguments.  Used in all
spatialmath functions and classes to provides for flexibility in argument types 
that can be passed.</p>
<dl class="py function">
<dt id="spatialmath.base.argcheck.isscalar">
<code class="sig-name descname">isscalar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#isscalar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.isscalar" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a real scalar</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – value to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether value is a scalar</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">isscalar(x)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a Python or numPy int or real float.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">isscalar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isscalar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isscalar</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isscalar</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.assertmatrix">
<code class="sig-name descname">assertmatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">shape</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#assertmatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.assertmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that argument is a 2D matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – value to test</p></li>
<li><p><strong>shape</strong> (<em>2-tuple</em>) – required shape</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – if value is not a real Numpy array</p></li>
<li><p><strong>ValueError</strong> – if value is not of the specified shape</p></li>
</ul>
</dd>
</dl>
<p>Tests if the argument is a real 2D matrix with a specified shape <code class="docutils literal notranslate"><span class="pre">shape</span></code>
but the value <code class="docutils literal notranslate"><span class="pre">None</span></code> indicate an unspecified (wildcard, don’t care)
dimension.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assertsmatrix(A)</span></code> raises an exception if <code class="docutils literal notranslate"><span class="pre">m</span></code> is not convertible to
a 2D array</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assertsmatrix(A,</span> <span class="pre">(N,M))</span></code> as above but <code class="docutils literal notranslate"><span class="pre">m</span></code> must have shape
(<code class="docutils literal notranslate"><span class="pre">N</span></code>,``M``)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assertsmatrix(A,</span> <span class="pre">(N,None))</span></code> as above but <code class="docutils literal notranslate"><span class="pre">m</span></code> must have <code class="docutils literal notranslate"><span class="pre">N</span></code> rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assertsmatrix(A,</span> <span class="pre">(None,M))</span></code> as above but <code class="docutils literal notranslate"><span class="pre">m</span></code> must have <code class="docutils literal notranslate"><span class="pre">M</span></code> columns</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.argcheck.ismatrix" title="spatialmath.base.argcheck.ismatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">ismatrix()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.ismatrix">
<code class="sig-name descname">ismatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#ismatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.ismatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a real 2D matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>m</strong> – value to test :param shape: required shape :type shape: 2-tuple</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if value is of specified shape :rtype: bool</p>
</dd>
</dl>
<p>Tests if the argument is a real 2D matrix with a specified shape <code class="docutils literal notranslate"><span class="pre">shape</span></code>
but the value <code class="docutils literal notranslate"><span class="pre">None</span></code> indicate an unspecified (wildcard, don’t care)
dimension, for example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">ismatrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ismatrix</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ismatrix</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ismatrix</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="kc">None</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ismatrix</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">verifymatrix</span></code> this function: - checks the argument is
real valued - allows the shape to have an unspecified dimension</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.argcheck.getmatrix" title="spatialmath.base.argcheck.getmatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">getmatrix()</span></code></a>, <a class="reference internal" href="#spatialmath.base.argcheck.verifymatrix" title="spatialmath.base.argcheck.verifymatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">verifymatrix()</span></code></a>, <a class="reference internal" href="#spatialmath.base.argcheck.assertmatrix" title="spatialmath.base.argcheck.assertmatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">assertmatrix()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.getmatrix">
<code class="sig-name descname">getmatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#getmatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.getmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert argument to 2D array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – input value</p></li>
<li><p><strong>shape</strong> (<em>2-tuple</em>) – shape of returned matrix</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – if <code class="docutils literal notranslate"><span class="pre">m</span></code> is inconsistent with <code class="docutils literal notranslate"><span class="pre">shape</span></code></p></li>
<li><p><strong>TypeError</strong> – if <code class="docutils literal notranslate"><span class="pre">m</span></code> is not required type</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a 2D array</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>NumPy ndarray</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">getmatrix(m,</span> <span class="pre">shape)</span></code> is a 2D matrix with shape <code class="docutils literal notranslate"><span class="pre">shape</span></code> formed from
<code class="docutils literal notranslate"><span class="pre">m</span></code> which can be a 2D array, 1D array-like or a scalar.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">getmatrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getmatrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="go">array([[3.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getmatrix</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">array([[3., 4.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getmatrix</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">array([[3.],</span>
<span class="go">       [4.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getmatrix</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">array([[3., 4.],</span>
<span class="go">       [5., 6.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getmatrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">array([[3., 4.],</span>
<span class="go">       [5., 6.]])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">m</span></code> is a 2D array its shape is compared to <code class="docutils literal notranslate"><span class="pre">shape</span></code> - a 2-tuple
where <code class="docutils literal notranslate"><span class="pre">None</span></code> stands for unspecified, ie. <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">2)</span></code> will match
any array where the second dimension is 2.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">m</span></code> is a 1D array its shape is checked to see if it can be
reshaped to <code class="docutils literal notranslate"><span class="pre">shape</span></code>.  A n-array could be reshaped as (n,1) or (1,n)
or any other shape with the correct number of elements.  A value of
<code class="docutils literal notranslate"><span class="pre">None</span></code> in the shape stands for unspecified, ie. <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">2)</span></code> will 
attempt to reshape <code class="docutils literal notranslate"><span class="pre">m</span></code> as an array with shape (k,2) where <span class="math notranslate nohighlight">\(k \times 2 \eq n\)</span>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">m</span></code> is a scalar, return an array of shape (1,1)</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.argcheck.ismatrix" title="spatialmath.base.argcheck.ismatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">ismatrix()</span></code></a>, <a class="reference internal" href="#spatialmath.base.argcheck.verifymatrix" title="spatialmath.base.argcheck.verifymatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">verifymatrix()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.verifymatrix">
<code class="sig-name descname">verifymatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#verifymatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.verifymatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that argument is array of specified size</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – value to be tested</p></li>
<li><p><strong>shape</strong> (<em>2-tuple</em>) – desired shape of value</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – argument is not a NumPy array</p></li>
<li><p><strong>ValueError</strong> – argument has incorrect shape</p></li>
</ul>
</dd>
</dl>
<p>Raises an exception if the argument <code class="docutils literal notranslate"><span class="pre">m</span></code> is not a NumPy array of the 
specified shape.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">assertmatrix</span></code> the specified shape cannot have wildcard
dimensions.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.argcheck.assertmatrix" title="spatialmath.base.argcheck.assertmatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">assertmatrix()</span></code></a>,:func:<cite>getmatrix</cite>, <a class="reference internal" href="#spatialmath.base.argcheck.ismatrix" title="spatialmath.base.argcheck.ismatrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">ismatrix()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.getvector">
<code class="sig-name descname">getvector</code><span class="sig-paren">(</span><em class="sig-param">v</em>, <em class="sig-param">dim=None</em>, <em class="sig-param">out='array'</em>, <em class="sig-param">dtype=&lt;class 'numpy.float64'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#getvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.getvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a vector value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> – passed vector</p></li>
<li><p><strong>dim</strong> (<em>int</em><em> or </em><em>None</em>) – required dimension, or None if any length is ok</p></li>
<li><p><strong>out</strong> (<em>str</em>) – output format, default is ‘array’</p></li>
<li><p><strong>dtype</strong> (<em>numPy type</em>) – datatype for numPy array return (default np.float64)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>vector value in specified format</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – value is not a list or NumPy array</p></li>
<li><p><strong>ValueError</strong> – incorrect number of elements</p></li>
</ul>
</dd>
</dl>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">getvector(vec)</span></code> is <code class="docutils literal notranslate"><span class="pre">vec</span></code> converted to the output format <code class="docutils literal notranslate"><span class="pre">out</span></code> 
where <code class="docutils literal notranslate"><span class="pre">vec</span></code> is any of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a Python native int or float, a 1-vector</p></li>
<li><p>Python native list or tuple</p></li>
<li><p>numPy real 1D array, ie. shape=(N,)</p></li>
<li><p>numPy real 2D array with a singleton dimension, ie. shape=(1,N) 
or (N,1)</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">getvector(vec,</span> <span class="pre">N)</span></code> as above but must be an <code class="docutils literal notranslate"><span class="pre">N</span></code>-element vector.</p></li>
</ul>
<p>The returned vector will be in the format specified by <code class="docutils literal notranslate"><span class="pre">out</span></code>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>format</p></th>
<th class="head"><p>return type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>‘sequence’</p></td>
<td><p>Python list, or tuple if a tuple was passed in</p></td>
</tr>
<tr class="row-odd"><td><p>‘list’</p></td>
<td><p>Python list</p></td>
</tr>
<tr class="row-even"><td><p>‘array’</p></td>
<td><p>1D numPy array, shape=(N,)  [default]</p></td>
</tr>
<tr class="row-odd"><td><p>‘row’</p></td>
<td><p>row vector, a 2D numPy array, shape=(1,N)</p></td>
</tr>
<tr class="row-even"><td><p>‘col’</p></td>
<td><p>column vector, 2D numPy array, shape=(N,1)</p></td>
</tr>
</tbody>
</table>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">getvector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getvector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># list</span>
<span class="go">array([1., 2.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getvector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">out</span><span class="o">=</span><span class="s1">&#39;row&#39;</span><span class="p">)</span>  <span class="c1"># list</span>
<span class="go">array([[1., 2.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getvector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">out</span><span class="o">=</span><span class="s1">&#39;col&#39;</span><span class="p">)</span>  <span class="c1"># list</span>
<span class="go">array([[1.],</span>
<span class="go">       [2.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getvector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># tuple</span>
<span class="go">array([1., 2.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getvector</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">out</span><span class="o">=</span><span class="s1">&#39;sequence&#39;</span><span class="p">)</span>  <span class="c1"># numpy array</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getvector</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># scalar</span>
<span class="go">array([1.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getvector</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="go">array([1.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getvector</span><span class="p">([[</span><span class="mi">1</span><span class="p">]])</span>
<span class="go">array([[1.]])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>For ‘array’, ‘row’ or ‘col’ output the NumPy dtype defaults to the
<code class="docutils literal notranslate"><span class="pre">dtype</span></code> of <code class="docutils literal notranslate"><span class="pre">v</span></code> if it is a NumPy array, otherwise it is
set to the value specified by the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> keyword which defaults
to <code class="docutils literal notranslate"><span class="pre">np.float64</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> is symbolic the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is retained as <code class="docutils literal notranslate"><span class="pre">'O'</span></code></p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.argcheck.isvector" title="spatialmath.base.argcheck.isvector"><code class="xref py py-func docutils literal notranslate"><span class="pre">isvector()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.assertvector">
<code class="sig-name descname">assertvector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">dim</span></em>, <em class="sig-param"><span class="n">msg</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#assertvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.assertvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that argument is a real vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> – passed vector</p></li>
<li><p><strong>dim</strong> (<em>int</em><em> or </em><em>None</em>) – required dimension</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – if not a vector of specified length</p>
</dd>
</dl>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">assertvector(vec)</span></code> raise an exception if <code class="docutils literal notranslate"><span class="pre">vec</span></code> is not a vector, ie. 
it is not any of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a Python native int or float, a 1-vector</p></li>
<li><p>Python native list or tuple</p></li>
<li><p>numPy real 1D array, ie. shape=(N,)</p></li>
<li><p>numPy real 2D array with a singleton dimension, ie. shape=(1,N) 
or (N,1)</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">assertvector(vec,</span> <span class="pre">N)</span></code> as above but must also check the length is <code class="docutils literal notranslate"><span class="pre">N</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.argcheck.getvector" title="spatialmath.base.argcheck.getvector"><code class="xref py py-func docutils literal notranslate"><span class="pre">getvector()</span></code></a>, <a class="reference internal" href="#spatialmath.base.argcheck.isvector" title="spatialmath.base.argcheck.isvector"><code class="xref py py-func docutils literal notranslate"><span class="pre">isvector()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.isvector">
<code class="sig-name descname">isvector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">dim</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#isvector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.isvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a real vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> – value to test</p></li>
<li><p><strong>dim</strong> (<em>int</em><em> or </em><em>None</em>) – required dimension</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether value is a valid vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">isvector(vec)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">vec</span></code> is a vector, ie. any of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a Python native int or float, a 1-vector</p></li>
<li><p>Python native list or tuple</p></li>
<li><p>numPy real 1D array, ie. shape=(N,)</p></li>
<li><p>numPy real 2D array with a singleton dimension, ie. shape=(1,N) 
or (N,1)</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">isvector(vec,</span> <span class="pre">N)</span></code> as above but must also be an <code class="docutils literal notranslate"><span class="pre">N</span></code>-element vector.</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">isvector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># list</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># tuple</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>  <span class="c1"># numpy array</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># scalar</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># list</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso</dt>
<dd class="field-odd"><p><a class="reference internal" href="#spatialmath.base.argcheck.getvector" title="spatialmath.base.argcheck.getvector"><code class="xref py py-func docutils literal notranslate"><span class="pre">getvector()</span></code></a>, <a class="reference internal" href="#spatialmath.base.argcheck.assertvector" title="spatialmath.base.argcheck.assertvector"><code class="xref py py-func docutils literal notranslate"><span class="pre">assertvector()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.getunit">
<code class="sig-name descname">getunit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">unit</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#getunit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.getunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert value according to angular units</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>array_like</em>) – the value in radians or degrees</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – the angular unit, “rad” or “deg”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the converted value in radians</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array_like</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">getunit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getunit</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="s1">&#39;rad&#39;</span><span class="p">)</span>
<span class="go">1.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getunit</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="go">1.5707963267948966</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getunit</span><span class="p">([</span><span class="mi">90</span><span class="p">,</span> <span class="mi">180</span><span class="p">],</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="go">[1.5707963267948966, 3.141592653589793]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getunit</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;rad&#39;</span><span class="p">)</span>
<span class="go">array([0.5, 1. ])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getunit</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">180</span><span class="p">],</span> <span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="go">array([1.57079633, 3.14159265])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.isnumberlist">
<code class="sig-name descname">isnumberlist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#isnumberlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.isnumberlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a list of scalars</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – the value to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the argument is a list of real scalars</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">isscalarlist(x)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">x``</span></code> is a list of scalars.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">isnumberlist</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnumberlist</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnumberlist</span><span class="p">([</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnumberlist</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isnumberlist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="spatialmath.base.argcheck.isvectorlist">
<code class="sig-name descname">isvectorlist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spatialmath/base/argcheck.html#isvectorlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spatialmath.base.argcheck.isvectorlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if argument is a list of vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> – the value to test</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the argument is a list of n-vectors</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">isvectorlist(x,</span> <span class="pre">n)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a list or tuple of
1D numPy arrays of shape=(n,).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">spatialmath.base</span> <span class="kn">import</span> <span class="n">isvectorlist</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvectorlist</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvectorlist</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]),</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvectorlist</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)],</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isvectorlist</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]],</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="indices.html" class="btn btn-neutral float-right" title="Indices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="classes-2d.html" class="btn btn-neutral float-left" title="2D-space" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Peter Corke
      <span class="lastupdated">
        Last updated on 30-Oct-2020.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'G-11Q6WJM565', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>